{"version":3,"sources":["../../../../components/promo-carousel.tsx/__nextjs-internal-proxy.mjs","../../../../components/store-location.tsx/__nextjs-internal-proxy.mjs","../../../../app/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PromoCarousel = registerClientReference(\n    function() { throw new Error(\"Attempted to call PromoCarousel() from the server but PromoCarousel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/promo-carousel.tsx\",\n    \"PromoCarousel\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const StoreLocation = registerClientReference(\n    function() { throw new Error(\"Attempted to call StoreLocation() from the server but StoreLocation is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/store-location.tsx\",\n    \"StoreLocation\",\n);\n","import type { Metadata } from \"next\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { ProductCard } from \"@/components/product-card\"\r\nimport { PromoCarousel } from \"@/components/promo-carousel\"\r\nimport Link from \"next/link\"\r\nimport { slugify } from \"@/lib/utils\"\r\nimport { getHomePageData } from \"@/features/products/services/products.server\"\r\nimport { StoreLocation } from \"@/components/store-location\"\r\n\r\nconst HOME_PRODUCTS_LIMIT = 12\r\n\r\n\r\n\r\nexport const metadata: Metadata = {\r\n  title: \"Tienda Online Premium\",\r\n  description:\r\n    \"Blama.shop es una tienda online en Perú con productos seleccionados, compras simples y atención rápida por WhatsApp. Descubre novedades, ofertas y envíos a domicilio.\",\r\n  alternates: {\r\n    canonical: \"/\",\r\n  },\r\n  openGraph: {\r\n    title: \"Blama.shop | Tienda Online Premium\",\r\n    description:\r\n      \"Compra en Blama.shop: productos seleccionados, ofertas y atención rápida por WhatsApp. Envíos a domicilio y experiencia de compra simple.\",\r\n    url: \"/\",\r\n    type: \"website\",\r\n    locale: \"es_ES\",\r\n    siteName: \"Blama.shop\",\r\n  },\r\n  twitter: {\r\n    card: \"summary_large_image\",\r\n    title: \"Blama.shop | Tienda Online Premium\",\r\n    description:\r\n      \"Tienda online en Perú con atención rápida por WhatsApp. Novedades, ofertas y envíos a domicilio.\",\r\n  },\r\n}\r\n\r\nexport const revalidate = 300 // Disable cache for real-time feel (optional, better for dev)\r\n\r\nexport default async function Home({\r\n  searchParams,\r\n}: {\r\n  searchParams?:\r\n  | Record<string, string | string[] | undefined>\r\n  | Promise<Record<string, string | string[] | undefined>>\r\n}) {\r\n  const resolvedSearchParams:\r\n    | Record<string, string | string[] | undefined>\r\n    | undefined =\r\n    searchParams && typeof (searchParams as any).then === 'function'\r\n      ? await (searchParams as Promise<Record<string, string | string[] | undefined>>)\r\n      : (searchParams as Record<string, string | string[] | undefined> | undefined)\r\n\r\n  const rawCat = resolvedSearchParams?.cat\r\n  const selectedCategorySlug = (Array.isArray(rawCat) ? rawCat[0] : rawCat || '').trim()\r\n\r\n  const { categories, products, bestSellers, offers, productsError } = await getHomePageData({\r\n    selectedCategorySlug,\r\n    productsLimit: HOME_PRODUCTS_LIMIT,\r\n  })\r\n\r\n  if (productsError) {\r\n    console.error(\"Error fetching products:\", productsError)\r\n    return <div className=\"p-4 text-red-500\">Error cargando productos. Revisa tu conexión a Supabase.</div>\r\n  }\r\n\r\n  return (\r\n    <main className=\"pb-20 font-sans\">\r\n\r\n      <section className=\"p-4\">\r\n        <PromoCarousel />\r\n      </section>\r\n\r\n\r\n\r\n      {bestSellers.length > 0 && (\r\n        <section className=\"p-4 px-2\" data-nosnippet>\r\n          <div className=\"flex justify-between items-center mb-4 px-2\">\r\n            <h3 className=\"text-lg font-bold text-foreground\">Lo más vendido</h3>\r\n            <Button asChild variant=\"link\" size=\"sm\" className=\"text-muted-foreground hover:text-primary\">\r\n              <Link href=\"/productos\">Ver todo</Link>\r\n            </Button>\r\n          </div>\r\n          <div className=\"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5\">\r\n            {bestSellers.slice(0, 6).map((product, idx) => (\r\n              <ProductCard key={`bestseller-${product.id}`} product={product} imagePriority={idx < 2} />\r\n            ))}\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {offers.length > 0 && (\r\n        <section className=\"p-4 px-2\" data-nosnippet>\r\n          <div className=\"flex justify-between items-center mb-4 px-2\">\r\n            <div className=\"flex flex-col\">\r\n              <h3 className=\"text-lg font-bold text-foreground\">Ofertas</h3>\r\n              <span className=\"text-xs text-muted-foreground\">Aprovecha descuento por tiempo limitado</span>\r\n            </div>\r\n            <Button asChild variant=\"link\" size=\"sm\" className=\"text-muted-foreground hover:text-primary\">\r\n              <Link href=\"/productos\">Ver todo</Link>\r\n            </Button>\r\n          </div>\r\n          <div className=\"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5\">\r\n            {offers.slice(0, 6).map((product, idx) => (\r\n              <ProductCard key={`offer-${product.id}`} product={product} imagePriority={idx < 1} />\r\n            ))}\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* Product Grid */}\r\n      <section className=\"p-4 px-2\" data-nosnippet>\r\n        <div className=\"flex justify-between items-center mb-4 px-2\">\r\n          <div className=\"flex flex-col\">\r\n            <h3 className=\"text-lg font-bold text-foreground\">Novedades</h3>\r\n            <span className=\"text-xs text-muted-foreground\">Últimos productos agregados</span>\r\n          </div>\r\n          <Button asChild variant=\"link\" size=\"sm\" className=\"text-muted-foreground hover:text-primary\">\r\n            <Link href=\"/productos\">Ver todo</Link>\r\n          </Button>\r\n        </div>\r\n\r\n        {categories && categories.length > 0 && (\r\n          <div className=\"flex gap-2 overflow-x-auto px-2 pb-3\">\r\n            <Button\r\n              asChild\r\n              variant={!selectedCategorySlug ? 'secondary' : 'outline'}\r\n              size=\"sm\"\r\n              className=\"shrink-0\"\r\n            >\r\n              <Link href=\"/\">Todos</Link>\r\n            </Button>\r\n            {categories.map((cat) => (\r\n              <Button\r\n                key={cat.id}\r\n                asChild\r\n                variant={cat.slug === selectedCategorySlug ? 'secondary' : 'outline'}\r\n                size=\"sm\"\r\n                className=\"shrink-0\"\r\n              >\r\n                <Link href={`/?cat=${encodeURIComponent(cat.slug)}`}>{cat.nombre}</Link>\r\n              </Button>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {!products || products.length === 0 ? (\r\n          <div className=\"text-center py-10 text-gray-500\">\r\n            <p>No hay productos disponibles.</p>\r\n            <p className=\"text-xs mt-2 text-gray-400\">Ejecuta el script de seed.sql en Supabase.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5\">\r\n            {products.slice(0, 12).map((product, idx) => (\r\n              <ProductCard key={product.id} product={product} imagePriority={idx < 2} />\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"mt-6 flex justify-center\">\r\n          <Button asChild className=\"rounded-xl\">\r\n            <Link href=\"/productos\">Ver todos los productos</Link>\r\n          </Button>\r\n        </div>\r\n      </section>\r\n\r\n      <StoreLocation />\r\n    </main>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0,1]}