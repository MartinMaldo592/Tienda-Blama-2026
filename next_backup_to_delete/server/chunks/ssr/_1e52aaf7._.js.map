{"version":3,"sources":["../../../../components/ui/card.tsx","../../../../node_modules/lucide-react/src/icons/check.ts","../../../../components/ui/table.tsx","../../../../node_modules/lucide-react/src/icons/refresh-cw.ts","../../../../components/ui/textarea.tsx","../../../../node_modules/lucide-react/src/icons/cloud-upload.ts","../../../../app/admin/incidencias/page.tsx","../../../../node_modules/lucide-react/src/icons/triangle-alert.ts"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn(\"leading-none font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn(\"px-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]];\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('check', __iconNode);\n\nexport default Check;\n","\"use client\"\r\n\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"table-container\"\r\n      className=\"relative w-full overflow-x-auto\"\r\n    >\r\n      <table\r\n        data-slot=\"table\"\r\n        className={cn(\"w-full caption-bottom text-sm\", className)}\r\n        {...props}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\r\n  return (\r\n    <thead\r\n      data-slot=\"table-header\"\r\n      className={cn(\"[&_tr]:border-b\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\r\n  return (\r\n    <tbody\r\n      data-slot=\"table-body\"\r\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\r\n  return (\r\n    <tfoot\r\n      data-slot=\"table-footer\"\r\n      className={cn(\r\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\r\n  return (\r\n    <tr\r\n      data-slot=\"table-row\"\r\n      className={cn(\r\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\r\n  return (\r\n    <th\r\n      data-slot=\"table-head\"\r\n      className={cn(\r\n        \"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\r\n  return (\r\n    <td\r\n      data-slot=\"table-cell\"\r\n      className={cn(\r\n        \"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableCaption({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"caption\">) {\r\n  return (\r\n    <caption\r\n      data-slot=\"table-caption\"\r\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Table,\r\n  TableHeader,\r\n  TableBody,\r\n  TableFooter,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableCaption,\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8', key: 'v9h5vc' }],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n  ['path', { d: 'M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16', key: '3uifl3' }],\n  ['path', { d: 'M8 16H3v5', key: '1cv678' }],\n];\n\n/**\n * @component @name RefreshCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAwIDEgOS05IDkuNzUgOS43NSAwIDAgMSA2Ljc0IDIuNzRMMjEgOCIgLz4KICA8cGF0aCBkPSJNMjEgM3Y1aC01IiAvPgogIDxwYXRoIGQ9Ik0yMSAxMmE5IDkgMCAwIDEtOSA5IDkuNzUgOS43NSAwIDAgMS02Ljc0LTIuNzRMMyAxNiIgLz4KICA8cGF0aCBkPSJNOCAxNkgzdjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/refresh-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RefreshCw = createLucideIcon('refresh-cw', __iconNode);\n\nexport default RefreshCw;\n","import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\r\n  return (\r\n    <textarea\r\n      data-slot=\"textarea\"\r\n      className={cn(\r\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Textarea }\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 13v8', key: '1l5pq0' }],\n  ['path', { d: 'M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242', key: '1pljnt' }],\n  ['path', { d: 'm8 17 4-4 4 4', key: '1quai1' }],\n];\n\n/**\n * @component @name CloudUpload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMTN2OCIgLz4KICA8cGF0aCBkPSJNNCAxNC44OTlBNyA3IDAgMSAxIDE1LjcxIDhoMS43OWE0LjUgNC41IDAgMCAxIDIuNSA4LjI0MiIgLz4KICA8cGF0aCBkPSJtOCAxNyA0LTQgNCA0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/cloud-upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CloudUpload = createLucideIcon('cloud-upload', __iconNode);\n\nexport default CloudUpload;\n","\r\n\"use client\"\r\n\r\nimport { useCallback, useEffect, useMemo, useState } from \"react\"\r\nimport Link from \"next/link\"\r\nimport { useRoleGuard } from \"@/lib/use-role-guard\"\r\nimport { AccessDenied } from \"@/components/admin/access-denied\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from \"@/components/ui/select\"\r\nimport {\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableHead,\r\n    TableHeader,\r\n    TableRow,\r\n} from \"@/components/ui/table\"\r\nimport { AlertTriangle, RefreshCw, Trash2, UploadCloud, X } from \"lucide-react\"\r\nimport {\r\n    createIncidencia,\r\n    deleteIncidencia,\r\n    fetchIncidencias as fetchIncidenciasService,\r\n    fetchPedidosForIncidencias,\r\n    uploadIncidenciaImages,\r\n} from \"@/features/admin\"\r\n\r\nconst TIPOS = [\r\n    \"Devolución\",\r\n    \"Queja\",\r\n    \"Producto dañado\",\r\n    \"Entrega tardía\",\r\n    \"Otro\",\r\n] as const\r\n\r\ntype Tipo = (typeof TIPOS)[number]\r\n\r\ntype TipoFilter = Tipo | \"all\"\r\n\r\nexport default function IncidenciasPage() {\r\n    const [loading, setLoading] = useState(true)\r\n    const [creating, setCreating] = useState(false)\r\n    const [uploading, setUploading] = useState(false)\r\n\r\n    const guard = useRoleGuard({ allowedRoles: [\"admin\", \"worker\"] })\r\n\r\n    const [userRole, setUserRole] = useState<string>(\"worker\")\r\n\r\n    const [pedidoId, setPedidoId] = useState<string>(\"\")\r\n    const [tipo, setTipo] = useState<Tipo>(\"Queja\")\r\n    const [comentario, setComentario] = useState(\"\")\r\n    const [fotos, setFotos] = useState<string[]>([])\r\n\r\n    const [filterPedido, setFilterPedido] = useState(\"\")\r\n    const [filterTipo, setFilterTipo] = useState<TipoFilter>(\"all\")\r\n\r\n    const [incidencias, setIncidencias] = useState<any[]>([])\r\n    const [pedidos, setPedidos] = useState<any[]>([])\r\n\r\n    const fetchPedidos = useCallback(async () => {\r\n        try {\r\n            const data = await fetchPedidosForIncidencias()\r\n            setPedidos(data)\r\n        } catch (error) {\r\n            console.error('Error fetching pedidos:', error)\r\n            setPedidos([])\r\n        }\r\n    }, [])\r\n\r\n    const fetchIncidencias = useCallback(async () => {\r\n        try {\r\n            const data = await fetchIncidenciasService()\r\n            setIncidencias(data)\r\n        } catch (error) {\r\n            console.error(\"Error fetching incidencias:\", error)\r\n            setIncidencias([])\r\n        }\r\n    }, [])\r\n\r\n    const refreshAll = useCallback(async () => {\r\n        setLoading(true)\r\n        await fetchPedidos()\r\n        await fetchIncidencias()\r\n        setLoading(false)\r\n    }, [fetchIncidencias, fetchPedidos])\r\n\r\n    useEffect(() => {\r\n        if (guard.loading || guard.accessDenied) return\r\n        setUserRole(String(guard.role || 'worker'))\r\n        refreshAll()\r\n    }, [guard.loading, guard.accessDenied, guard.role, refreshAll])\r\n\r\n    const filtered = useMemo(() => {\r\n        const pid = filterPedido.trim()\r\n        return incidencias.filter((i) => {\r\n            const matchesPedido = !pid || String(i.pedido_id || \"\").includes(pid)\r\n            const matchesTipo = filterTipo === \"all\" || String(i.tipo || \"\") === filterTipo\r\n            return matchesPedido && matchesTipo\r\n        })\r\n    }, [incidencias, filterPedido, filterTipo])\r\n\r\n    async function handleCreate() {\r\n        const pid = String(pedidoId || '').trim()\r\n        if (!pid) {\r\n            alert('Selecciona un pedido')\r\n            return\r\n        }\r\n        if (!comentario.trim()) {\r\n            alert(\"Ingresa un comentario\")\r\n            return\r\n        }\r\n\r\n        setCreating(true)\r\n        try {\r\n            const normalizedFotos = (fotos || []).map((x) => String(x || '').trim()).filter(Boolean).slice(0, 5)\r\n            const mainFoto = normalizedFotos[0] || null\r\n\r\n            const payload: any = {\r\n                pedido_id: Number(pid),\r\n                tipo,\r\n                comentario: comentario.trim(),\r\n                foto: mainFoto,\r\n                fotos: normalizedFotos,\r\n            }\r\n\r\n            async function save(withFotos: boolean) {\r\n                const p: any = { ...payload }\r\n                if (!withFotos) delete p.fotos\r\n                return createIncidencia(p)\r\n            }\r\n\r\n            await save(true)\r\n\r\n            setPedidoId(\"\")\r\n            setTipo(\"Queja\")\r\n            setComentario(\"\")\r\n            setFotos([])\r\n\r\n            await fetchIncidencias()\r\n        } catch (err: any) {\r\n            console.error(\"Error creating incidencia:\", err)\r\n            const code = String((err as any)?.code || '')\r\n            const msg = String((err as any)?.message || '')\r\n            const lower = msg.toLowerCase()\r\n            if (\r\n                code === '42501' ||\r\n                lower.includes('permission denied') ||\r\n                lower.includes('row level security') ||\r\n                lower.includes('violates row-level security')\r\n            ) {\r\n                alert('No tienes permisos para realizar esta acción.')\r\n            } else {\r\n                alert('No se pudo crear la incidencia: ' + (msg || ''))\r\n            }\r\n        } finally {\r\n            setCreating(false)\r\n        }\r\n    }\r\n\r\n    async function handleDelete(id: number) {\r\n        if (userRole !== \"admin\") return\r\n        if (!confirm(\"¿Eliminar esta incidencia?\")) return\r\n\r\n        try {\r\n            await deleteIncidencia(id)\r\n        } catch (error: any) {\r\n            const code = String((error as any)?.code || '')\r\n            const msg = String((error as any)?.message || '')\r\n            const lower = msg.toLowerCase()\r\n            if (\r\n                code === '42501' ||\r\n                lower.includes('permission denied') ||\r\n                lower.includes('row level security') ||\r\n                lower.includes('violates row-level security')\r\n            ) {\r\n                alert('No tienes permisos para realizar esta acción.')\r\n            } else {\r\n                alert('Error al eliminar: ' + msg)\r\n            }\r\n            return\r\n        }\r\n        await fetchIncidencias()\r\n    }\r\n\r\n    if (guard.loading || loading) {\r\n        return <div className=\"p-10\">Cargando...</div>\r\n    }\r\n\r\n    if (guard.accessDenied) {\r\n        return <AccessDenied />\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between gap-3\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold text-gray-900\">Incidencias</h1>\r\n                    <p className=\"text-gray-500\">Gestiona reclamos, devoluciones y problemas de pedidos.</p>\r\n                </div>\r\n                <Button variant=\"outline\" className=\"gap-2\" onClick={refreshAll} disabled={loading}>\r\n                    <RefreshCw className=\"h-4 w-4\" /> Actualizar\r\n                </Button>\r\n            </div>\r\n\r\n            <Card className=\"shadow-sm border-gray-200\">\r\n                <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                        <AlertTriangle className=\"h-5 w-5 text-amber-600\" /> Registrar incidencia\r\n                    </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div className=\"space-y-2\">\r\n                        <div className=\"text-sm text-muted-foreground\">Pedido</div>\r\n                        <Select value={pedidoId} onValueChange={setPedidoId}>\r\n                            <SelectTrigger disabled={creating || uploading}>\r\n                                <SelectValue placeholder=\"Selecciona un pedido\" />\r\n                            </SelectTrigger>\r\n                            <SelectContent>\r\n                                {pedidos.map((p) => (\r\n                                    <SelectItem key={p.id} value={String(p.id)}>\r\n                                        #{String(p.id).padStart(6, '0')} • {p.status} • {p.clientes?.nombre || '—'}\r\n                                    </SelectItem>\r\n                                ))}\r\n                            </SelectContent>\r\n                        </Select>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                        <div className=\"text-sm text-muted-foreground\">Tipo</div>\r\n                        <Select value={tipo} onValueChange={(v) => setTipo(v as Tipo)}>\r\n                            <SelectTrigger disabled={creating || uploading}>\r\n                                <SelectValue />\r\n                            </SelectTrigger>\r\n                            <SelectContent>\r\n                                {TIPOS.map((t) => (\r\n                                    <SelectItem key={t} value={t}>{t}</SelectItem>\r\n                                ))}\r\n                            </SelectContent>\r\n                        </Select>\r\n                    </div>\r\n                    <div className=\"space-y-2 md:col-span-2\">\r\n                        <div className=\"text-sm text-muted-foreground\">Comentario</div>\r\n                        <Textarea\r\n                            placeholder=\"Describe el problema (producto incorrecto, devolución, etc.)\"\r\n                            value={comentario}\r\n                            onChange={(e) => setComentario(e.target.value)}\r\n                            disabled={creating || uploading}\r\n                        />\r\n                    </div>\r\n                    <div className=\"space-y-2 md:col-span-2\">\r\n                        <div className=\"text-sm text-muted-foreground\">Fotos (hasta 5)</div>\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <label className={`inline-flex items-center gap-2 rounded-md border px-3 py-2 text-sm font-medium ${uploading ? 'opacity-60' : 'cursor-pointer hover:bg-accent'}`}>\r\n                                <UploadCloud className=\"h-4 w-4\" />\r\n                                {uploading ? 'Subiendo...' : 'Subir imágenes'}\r\n                                <input\r\n                                    type=\"file\"\r\n                                    accept=\"image/*\"\r\n                                    multiple\r\n                                    className=\"hidden\"\r\n                                    disabled={creating || uploading || fotos.length >= 5}\r\n                                    onChange={async (e) => {\r\n                                        if (!e.target.files || e.target.files.length === 0) return\r\n                                        try {\r\n                                            setUploading(true)\r\n                                            const files = Array.from(e.target.files)\r\n                                            const remaining = Math.max(0, 5 - fotos.length)\r\n                                            const toUpload = files.slice(0, remaining)\r\n\r\n                                            const uploadedUrls = await uploadIncidenciaImages({ pedidoId, files: toUpload })\r\n\r\n                                            const next = [...fotos, ...uploadedUrls]\r\n                                                .map((x) => String(x || '').trim())\r\n                                                .filter(Boolean)\r\n                                                .slice(0, 5)\r\n                                            setFotos(next)\r\n                                        } catch (err: any) {\r\n                                            alert('Error subiendo imagen: ' + (err?.message || ''))\r\n                                        } finally {\r\n                                            setUploading(false)\r\n                                            e.target.value = ''\r\n                                        }\r\n                                    }}\r\n                                />\r\n                            </label>\r\n\r\n                            <div className=\"text-xs text-muted-foreground\">{fotos.length}/5</div>\r\n                        </div>\r\n\r\n                        {fotos.length > 0 && (\r\n                            <div className=\"grid grid-cols-5 gap-2\">\r\n                                {fotos.map((url) => (\r\n                                    <div key={url} className=\"relative aspect-square rounded-md overflow-hidden border bg-popover\">\r\n                                        <img src={url} alt=\"Foto incidencia\" className=\"h-full w-full object-cover\" />\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            className=\"absolute top-1 right-1 h-7 w-7 rounded-full bg-background/80 border flex items-center justify-center\"\r\n                                            onClick={() => setFotos((prev) => prev.filter((x) => x !== url))}\r\n                                            disabled={creating || uploading}\r\n                                            aria-label=\"Quitar\"\r\n                                        >\r\n                                            <X className=\"h-4 w-4\" />\r\n                                        </button>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"md:col-span-2\">\r\n                        <Button onClick={handleCreate} disabled={creating || uploading} className=\"w-full md:w-auto\">\r\n                            Registrar\r\n                        </Button>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"shadow-sm border-gray-200\">\r\n                <CardHeader>\r\n                    <CardTitle>Listado</CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-4\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n                        <div className=\"space-y-1\">\r\n                            <div className=\"text-sm text-muted-foreground\">Filtrar por pedido</div>\r\n                            <Input\r\n                                inputMode=\"numeric\"\r\n                                placeholder=\"ID pedido\"\r\n                                value={filterPedido}\r\n                                onChange={(e) => setFilterPedido(e.target.value.replace(/\\D/g, \"\"))}\r\n                            />\r\n                        </div>\r\n                        <div className=\"space-y-1\">\r\n                            <div className=\"text-sm text-muted-foreground\">Tipo</div>\r\n                            <Select value={filterTipo} onValueChange={(v) => setFilterTipo(v as TipoFilter)}>\r\n                                <SelectTrigger>\r\n                                    <SelectValue placeholder=\"Todos\" />\r\n                                </SelectTrigger>\r\n                                <SelectContent>\r\n                                    <SelectItem value=\"all\">Todos</SelectItem>\r\n                                    {TIPOS.map((t) => (\r\n                                        <SelectItem key={t} value={t}>{t}</SelectItem>\r\n                                    ))}\r\n                                </SelectContent>\r\n                            </Select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"bg-white rounded-xl border overflow-hidden\">\r\n                        <Table>\r\n                            <TableHeader className=\"bg-gray-50\">\r\n                                <TableRow>\r\n                                    <TableHead>ID</TableHead>\r\n                                    <TableHead>Pedido</TableHead>\r\n                                    <TableHead>Tipo</TableHead>\r\n                                    <TableHead>Cliente</TableHead>\r\n                                    <TableHead>Fecha</TableHead>\r\n                                    <TableHead className=\"text-right\">Acciones</TableHead>\r\n                                </TableRow>\r\n                            </TableHeader>\r\n                            <TableBody>\r\n                                {loading ? (\r\n                                    <TableRow>\r\n                                        <TableCell colSpan={6} className=\"text-center py-10\">Cargando...</TableCell>\r\n                                    </TableRow>\r\n                                ) : filtered.length === 0 ? (\r\n                                    <TableRow>\r\n                                        <TableCell colSpan={6} className=\"text-center py-10\">No hay incidencias.</TableCell>\r\n                                    </TableRow>\r\n                                ) : (\r\n                                    filtered.map((i) => (\r\n                                        <TableRow key={i.id}>\r\n                                            <TableCell className=\"font-mono\">#{String(i.id).padStart(5, \"0\")}</TableCell>\r\n                                            <TableCell>\r\n                                                <Link href={`/admin/pedidos/${i.pedido_id}`} className=\"text-sm font-medium text-primary hover:underline\">\r\n                                                    #{String(i.pedido_id).padStart(6, \"0\")}\r\n                                                </Link>\r\n                                                <div className=\"text-xs text-muted-foreground\">{i.pedidos?.status || \"\"}</div>\r\n                                            </TableCell>\r\n                                            <TableCell className=\"text-sm font-medium\">{i.tipo || \"\"}</TableCell>\r\n                                            <TableCell>\r\n                                                <div className=\"text-sm\">\r\n                                                    <div className=\"font-medium\">{i.pedidos?.clientes?.nombre || \"—\"}</div>\r\n                                                    <div className=\"text-muted-foreground\">{i.pedidos?.clientes?.telefono || \"\"}</div>\r\n                                                </div>\r\n                                            </TableCell>\r\n                                            <TableCell className=\"text-sm text-muted-foreground\">{new Date(i.created_at).toLocaleString()}</TableCell>\r\n                                            <TableCell className=\"text-right\">\r\n                                                <div className=\"flex justify-end gap-2\">\r\n                                                    {i.foto && (\r\n                                                        <a\r\n                                                            href={i.foto}\r\n                                                            target=\"_blank\"\r\n                                                            rel=\"noopener noreferrer\"\r\n                                                            className=\"text-sm font-medium text-primary hover:underline\"\r\n                                                        >\r\n                                                            Foto\r\n                                                        </a>\r\n                                                    )}\r\n                                                    {userRole === \"admin\" && (\r\n                                                        <Button\r\n                                                            variant=\"ghost\"\r\n                                                            size=\"icon\"\r\n                                                            className=\"h-8 w-8 hover:bg-red-50\"\r\n                                                            onClick={() => handleDelete(i.id)}\r\n                                                        >\r\n                                                            <Trash2 className=\"h-4 w-4 text-red-600\" />\r\n                                                        </Button>\r\n                                                    )}\r\n                                                </div>\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    ))\r\n                                )}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3',\n      key: 'wmoenq',\n    },\n  ],\n  ['path', { d: 'M12 9v4', key: 'juzpu7' }],\n  ['path', { d: 'M12 17h.01', key: 'p32p05' }],\n];\n\n/**\n * @component @name TriangleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNzMgMTgtOC0xNGEyIDIgMCAwIDAtMy40OCAwbC04IDE0QTIgMiAwIDAgMCA0IDIxaDE2YTIgMiAwIDAgMCAxLjczLTMiIC8+CiAgPHBhdGggZD0iTTEyIDl2NCIgLz4KICA8cGF0aCBkPSJNMTIgMTdoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/triangle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TriangleAlert = createLucideIcon('triangle-alert', __iconNode);\n\nexport default TriangleAlert;\n"],"names":[],"mappings":"uDAEA,EAAA,EAAA,CAAA,CAAA,OAEA,SAAS,EAAK,WAAE,CAAS,CAAE,GAAG,EAAoC,EAChE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,OACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,oFACA,GAED,GAAG,CAAK,EAGf,CAEA,SAAS,EAAW,WAAE,CAAS,CAAE,GAAG,EAAoC,EACtE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,cACV,UAAW,CAAA,EAAA,EAAA,EAAE,AAAF,EACT,2JACA,GAED,GAAG,CAAK,EAGf,CAEA,SAAS,EAAU,WAAE,CAAS,CAAE,GAAG,EAAoC,EACrE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,aACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,6BAA8B,GAC3C,GAAG,CAAK,EAGf,CAyBA,SAAS,EAAY,WAAE,CAAS,CAAE,GAAG,EAAoC,EACvE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,eACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,OAAQ,GACrB,GAAG,CAAK,EAGf,CAEA,SAAS,EAAW,CAAE,WAAS,CAAE,GAAG,EAAoC,EACtE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,cACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,0CAA2C,GACxD,GAAG,CAAK,EAGf,yHCjEA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAN,CAAM,CAAA,EAAQ,AAAR,CAAA,AAAQ,CAAR,AAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAbK,CAaI,AAbH,CAaG,AAbF,CAaE,CAAA,CAAA,CAAA,CAAA,CAbF,AAaE,CAbM,AAAR,AAaE,CAAA,AAbM,AAAE,CAaE,CAbC,AAaD,iBAbC,CAAmB,AAAnB,CAAmB,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAC,CAAA,kECCtF,EAAA,EAAA,CAAA,CAAA,OAEA,SAAS,EAAM,WAAE,CAAS,CAAE,GAAG,EAAsC,EACnE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,kBACV,UAAU,2CAEV,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,YAAU,QACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,gCAAiC,GAC9C,GAAG,CAAK,IAIjB,CAEA,SAAS,EAAY,WAAE,CAAS,CAAE,GAAG,EAAsC,EACzE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,YAAU,eACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,kBAAmB,GAChC,GAAG,CAAK,EAGf,CAEA,SAAS,EAAU,WAAE,CAAS,CAAE,GAAG,EAAsC,EACvE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,YAAU,aACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,6BAA8B,GAC3C,GAAG,CAAK,EAGf,CAeA,SAAS,EAAS,WAAE,CAAS,CAAE,GAAG,EAAmC,EACnE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CACC,YAAU,YACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,8EACA,GAED,GAAG,CAAK,EAGf,CAEA,SAAS,EAAU,WAAE,CAAS,CAAE,GAAG,EAAmC,EACpE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CACC,YAAU,aACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,qJACA,GAED,GAAG,CAAK,EAGf,CAEA,SAAS,EAAU,WAAE,CAAS,CAAE,GAAG,EAAmC,EACpE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CACC,YAAU,aACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,yGACA,GAED,GAAG,CAAK,EAGf,yICtEA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAN,CAAM,CAAA,EAAY,CAAA,CAAA,CAAA,CAAA,AAAZ,CAAY,AAAZ,CAAY,AAAZ,CAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAlBC,CAClC,AAiB+C,CAjB9C,AAiB8C,CAjB9C,AAiB8C,CAjB9C,AAiB8C,CAjB9C,AAiB8C,CAjB9C,AAiB8C,CAjB9C,AAiB8C,CAjB9C,AAiB8C,CAjB9C,AAAQ,AAiBsC,CAjBtC,AAAE,AAiBoC,CAAU,CAAA,AAjB3C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAsD,AAAtD,CAAsD,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CACnF,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAc,AAAd,CAAc,CAAA,CAAA,CAAK,AAAL,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAC3C,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAE,AAAF,EAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAuD,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CACpF,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAa,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAC5C,0ECNA,EAAA,EAAA,CAAA,CAAA,OAEA,SAAS,EAAS,WAAE,CAAS,CAAE,GAAG,EAAyC,EACzE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,YAAU,WACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,scACA,GAED,GAAG,CAAK,EAGf,iDCKA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAN,CAAM,CAAA,EAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAd,AAAc,CAAA,AAAd,CAAc,AAAd,CAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAjBD,CAClC,AAgBmD,CAhBlD,AAgBkD,CAhBlD,AAgBkD,CAhBlD,AAgBkD,CAhBlD,AAgBkD,CAhBlD,AAgBkD,CAhBlD,AAgBkD,CAhBlD,AAgBkD,CAhBlD,AAAQ,AAgB0C,CAhB1C,AAAE,AAgBwC,CAAU,CAAA,AAhB/C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAY,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CACzC,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAA4D,AAA5D,CAA4D,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CACzF,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAiB,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAChD,4ECJA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAOA,EAAA,EAAA,CAAA,CAAA,OCQA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAN,CAAM,CAAA,EAAgB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAhB,AAAgB,CAAhB,AAAgB,CAAhB,AAAgB,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAvBH,CAClC,AAsBuD,CAAA,AArBrD,CAAA,AAqBqD,CArBrD,AAqBqD,CArBrD,AAqBqD,CArBrD,AAqBqD,CArBrD,AAqBqD,CArBrD,AAqBqD,CApBrD,AAoBqD,CAnBnD,AAmBmD,CAnBnD,AAmB6D,CAnB1D,AAmB0D,CAnB1D,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACH,GAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAET,CACA,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAW,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CACxC,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAc,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAC7C,EDaA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAQA,IAAM,EAAQ,CACV,aACA,QACA,kBACA,iBACA,OACH,CAMc,SAAS,IACpB,GAAM,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAErC,EAAQ,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,CAAE,aAAc,CAAC,QAAS,SAAS,AAAC,GAEzD,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,UAE3C,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,IAC3C,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAO,SACjC,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IACvC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,EAAE,EAEzC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC3C,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAa,OAEnD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAQ,EAAE,EAClD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAQ,EAAE,EAE1C,EAAe,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UAC7B,GAAI,CACA,IAAM,EAAO,MAAM,CAAA,EAAA,EAAA,0BAAA,AAA0B,IAC7C,EAAW,EACf,CAAE,MAAO,EAAO,CACZ,QAAQ,KAAK,CAAC,0BAA2B,GACzC,EAAW,EAAE,CACjB,CACJ,EAAG,EAAE,EAEC,EAAmB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UACjC,GAAI,CACA,IAAM,EAAO,MAAM,CAAA,EAAA,EAAA,gBAAA,AAAuB,IAC1C,EAAe,EACnB,CAAE,MAAO,EAAO,CACZ,QAAQ,KAAK,CAAC,8BAA+B,GAC7C,EAAe,EAAE,CACrB,CACJ,EAAG,EAAE,EAEC,EAAa,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UAC3B,GAAW,GACX,MAAM,IACN,MAAM,IACN,GAAW,EACf,EAAG,CAAC,EAAkB,EAAa,EAEnC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACF,EAAM,OAAO,EAAI,EAAM,YAAY,EAAE,CACzC,EAAY,OAAO,EAAM,IAAI,EAAI,WACjC,IACJ,EAAG,CAAC,EAAM,OAAO,CAAE,EAAM,YAAY,CAAE,EAAM,IAAI,CAAE,EAAW,EAE9D,IAAM,EAAW,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACrB,IAAM,EAAM,EAAa,IAAI,GAC7B,OAAO,EAAY,MAAM,CAAC,AAAC,IACvB,IAAM,EAAgB,CAAC,GAAO,OAAO,EAAE,SAAS,EAAI,IAAI,QAAQ,CAAC,GAC3D,EAA6B,QAAf,GAAwB,OAAO,EAAE,IAAI,EAAI,MAAQ,EACrE,OAAO,GAAiB,CAC5B,EACJ,EAAG,CAAC,EAAa,EAAc,EAAW,EAE1C,eAAe,IACX,IAAM,EAAM,OAAO,GAAY,IAAI,IAAI,GACvC,GAAI,CAAC,EAAK,YACN,MAAM,wBAGV,GAAI,CAAC,EAAW,IAAI,GAAI,YACpB,MAAM,yBAIV,GAAY,GACZ,GAAI,CACA,IAAM,EAAkB,CAAC,GAAS,EAAA,AAAE,EAAE,GAAG,CAAE,AAAD,GAAO,OAAO,GAAK,IAAI,IAAI,IAAI,MAAM,CAAC,SAAS,KAAK,CAAC,EAAG,GAC5F,EAAW,CAAe,CAAC,EAAE,EAAI,KAEjC,EAAe,CACjB,UAAW,OAAO,GAClB,OACA,WAAY,EAAW,IAAI,GAC3B,KAAM,EACN,MAAO,CACX,EAEA,eAAe,EAAK,CAAkB,EAClC,IAAM,EAAS,CAAE,GAAG,CAAO,AAAC,EAE5B,OADI,AAAC,GAAW,OAAO,EAAE,KAAK,CACvB,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,EAC5B,CAEA,MAAM,GAAK,GAEX,EAAY,IACZ,EAAQ,SACR,EAAc,IACd,EAAS,EAAE,EAEX,MAAM,GACV,CAAE,MAAO,EAAU,CACf,QAAQ,KAAK,CAAC,6BAA8B,GAC5C,IAAM,EAAO,OAAQ,GAAa,MAAQ,IACpC,EAAM,OAAO,GAAc,SAAW,IACtC,EAAQ,EAAI,WAAW,GAEhB,UAAT,GACA,EAAM,QAAQ,CAAC,sBACf,EAAM,QAAQ,CAAC,uBACf,EAAM,QAAQ,CAAC,+BAEf,CADF,KACQ,iDAEN,MAAM,oCAAsC,CAAD,EAAQ,EAAA,CAAE,CAE7D,QAAU,CACN,GAAY,EAChB,CACJ,CAEA,eAAe,EAAa,CAAU,EAClC,GAAiB,SAAS,CAAtB,GACC,QAAQ,+BAA+B,AAE5C,GAAI,CACA,MAAM,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,EAC3B,CAAE,MAAO,EAAY,CACjB,IAAM,EAAO,OAAQ,GAAe,MAAQ,IACtC,EAAM,OAAQ,GAAe,SAAW,IACxC,EAAQ,EAAI,WAAW,GAEhB,UAAT,GACA,EAAM,QAAQ,CAAC,sBACf,EAAM,QAAQ,CAAC,uBACf,EAAM,QAAQ,CAAC,+BAEf,CADF,KACQ,iDAEN,MAAM,sBAAwB,GAElC,MACJ,CACA,MAAM,IACV,QAEI,AAAJ,EAAU,OAAO,EAAI,EACV,CAAA,EAAA,EAAA,EADmB,CACnB,EAAC,MAAA,CAAI,UAAU,gBAAO,gBAG7B,EAAM,YAAY,CACX,CADa,AACb,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAA,GAIpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oDACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,gBACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,+DAEjC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,UAAU,QAAQ,QAAS,EAAY,SAAU,YACvE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,YAAY,oBAIzC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,sCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACP,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,oCACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAc,UAAU,2BAA2B,6BAG5D,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,kDACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAgC,WAC/C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAO,EAAU,cAAe,YACpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,SAAU,GAAY,WACjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,2BAE7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACT,EAAQ,GAAG,CAAE,AAAD,GACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAY,MAAO,OAAO,EAAE,EAAE,YAAG,IACtC,OAAO,EAAE,EAAE,EAAE,QAAQ,CAAC,EAAG,KAAK,MAAI,EAAE,MAAM,CAAC,MAAI,EAAE,QAAQ,EAAE,QAAU,MAD1D,EAAE,EAAE,WAOrC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAgC,SAC/C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAO,EAAM,cAAe,AAAC,GAAM,EAAQ,aAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,SAAU,GAAY,WACjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,KAEhB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACT,EAAM,GAAG,CAAC,AAAC,GACR,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAS,MAAO,WAAI,GAAd,YAKjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAgC,eAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CACL,YAAY,+DACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAc,EAAE,MAAM,CAAC,KAAK,EAC7C,SAAU,GAAY,OAG9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAgC,oBAC/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACX,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAW,CAAC,+EAA+E,EAAE,EAAY,aAAe,iCAAA,CAAkC,WAC7J,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,YACtB,EAAY,cAAgB,iBAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,KAAK,OACL,OAAO,UACP,QAAQ,CAAA,CAAA,EACR,UAAU,SACV,SAAU,GAAY,GAAa,EAAM,MAAM,EAAI,EACnD,SAAU,MAAO,IACb,GAAI,AAAC,EAAE,MAAM,CAAC,KAAK,EAA8B,GAAG,CAA7B,EAAE,MAAM,CAAC,KAAK,CAAC,MAAM,CAC5C,GAAI,CACA,EAAa,IACb,IAAM,EAAQ,MAAM,IAAI,CAAC,EAAE,MAAM,CAAC,KAAK,EACjC,EAAY,KAAK,GAAG,CAAC,EAAG,EAAI,EAAM,MAAM,EACxC,EAAW,EAAM,KAAK,CAAC,EAAG,GAE1B,EAAe,MAAM,CAAA,EAAA,EAAA,sBAAA,AAAsB,EAAC,UAAE,EAAU,MAAO,CAAS,GAExE,EAAO,IAAI,KAAU,EAAa,CACnC,GAAG,CAAC,AAAC,GAAM,OAAO,GAAK,IAAI,IAAI,IAC/B,MAAM,CAAC,SACP,KAAK,CAAC,EAAG,GACd,EAAS,EACb,CAAE,MAAO,EAAU,CACf,MAAM,0BAA6B,EAAD,EAAM,SAAW,EAAA,CAAE,CACzD,QAAU,CACN,GAAa,GACb,EAAE,MAAM,CAAC,KAAK,CAAG,EACrB,CACJ,OAIR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CAAiC,EAAM,MAAM,CAAC,WAGhE,EAAM,MAAM,CAAG,GACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACV,EAAM,GAAG,CAAC,AAAC,GACR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAc,UAAU,gFACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,IAAK,EAAK,IAAI,kBAAkB,UAAU,+BAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,UAAU,uGACV,QAAS,IAAM,EAAU,AAAD,GAAU,EAAK,MAAM,CAAC,AAAC,GAAM,IAAM,IAC3D,SAAU,GAAY,EACtB,aAAW,kBAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,gBATX,SAgB1B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAS,EAAc,SAAU,GAAY,EAAW,UAAU,4BAAmB,sBAOzG,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,sCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,cAEf,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAgC,uBAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACF,UAAU,UACV,YAAY,YACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAgB,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,MAAO,UAGvE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAgC,SAC/C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAO,EAAY,cAAe,AAAC,GAAM,EAAc,aAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,YAE7B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,eAAM,UACvB,EAAM,GAAG,CAAC,AAAC,GACR,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAS,MAAO,WAAI,GAAd,gBAOrC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sDACX,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,WACF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACnB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,WACL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,OACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,SACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,YACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,UACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,sBAAa,kBAG1C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACL,EACG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,UACL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,QAAS,EAAG,UAAU,6BAAoB,kBAEzD,AAAoB,MAAX,MAAM,CACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,UACL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,QAAS,EAAG,UAAU,6BAAoB,0BAGzD,EAAS,GAAG,CAAE,AAAD,GACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,WACL,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,sBAAY,IAAE,OAAO,EAAE,EAAE,EAAE,QAAQ,CAAC,EAAG,QAC5D,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,WACN,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,eAAe,EAAE,EAAE,SAAS,CAAA,CAAE,CAAE,UAAU,6DAAmD,IACpG,OAAO,EAAE,SAAS,EAAE,QAAQ,CAAC,EAAG,QAEtC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAiC,EAAE,OAAO,EAAE,QAAU,QAEzE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,+BAAuB,EAAE,IAAI,EAAI,KACtD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBAAe,EAAE,OAAO,EAAE,UAAU,QAAU,MAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAyB,EAAE,OAAO,EAAE,UAAU,UAAY,UAGjF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,yCAAiC,IAAI,KAAK,EAAE,UAAU,EAAE,cAAc,KAC3F,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,sBACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACV,EAAE,IAAI,EACH,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACG,KAAM,EAAE,IAAI,CACZ,OAAO,SACP,IAAI,sBACJ,UAAU,4DACb,SAIS,UAAb,GACG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACH,QAAQ,QACR,KAAK,OACL,UAAU,0BACV,QAAS,IAAM,EAAa,EAAE,EAAE,WAEhC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,kCAnCvB,EAAE,EAAE,kBAkD3D","ignoreList":[3,5,7]}