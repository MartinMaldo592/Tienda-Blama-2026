module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>g,"CardFooter",()=>h,"CardHeader",()=>e,"CardTitle",()=>f])},50725,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(40695),e=a.i(3130),f=a.i(15618),g=a.i(38632),h=a.i(97895);a.i(28517);var i=a.i(14119),j=a.i(72131),k=a.i(88652),l=a.i(23833);function m({product:a,imagePriority:m=!1}){let n=(0,i.useCartStore)(a=>a.addItem),o=(0,l.useCartAnimationStore)(a=>a.startAnimation),p=(0,j.useRef)(null),[q,r]=(0,j.useState)(!1),s=Number(a?.precio??0),t=Number(a?.precio_antes??0),u=Number.isFinite(t)&&t>0&&Number.isFinite(s)&&s>0&&t>s,v=u?Math.round((1-s/t)*100):0,w=(Array.isArray(a.imagenes)?a.imagenes:[]).filter(Boolean).filter(a=>{let b=String(a||"").toLowerCase();return!(b.endsWith(".mp4")||b.endsWith(".webm")||b.endsWith(".mov")||b.endsWith(".m4v"))}).slice(0,10),x=w.length>0?w:a.imagen_url?[a.imagen_url]:[],y=(0,l.useCartAnimationStore)(a=>a.setCartOpen),z=`/productos/${(0,h.slugify)(a.nombre)}-${a.id}`;return(0,b.jsxs)(e.Card,{className:"group overflow-hidden border-none shadow-sm hover:shadow-md transition-all duration-300 bg-card flex flex-col rounded-xl",children:[(0,b.jsx)(c.default,{href:z,className:"block",children:(0,b.jsxs)("div",{className:"aspect-square bg-popover relative overflow-hidden",ref:p,children:[x.length>0?(0,b.jsx)(k.ProductImageCarousel,{images:x,alt:a.nombre,className:"group-hover:scale-105 transition-transform duration-300",autoPlay:!0,intervalMs:2500,priority:m,sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 20vw",quality:70}):(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-muted-foreground group-hover:scale-110 transition-transform duration-300",children:(0,b.jsx)(g.Image,{className:"h-10 w-10 opacity-50"})}),(0,b.jsx)("div",{className:"absolute inset-0 bg-foreground/5 opacity-0 group-hover:opacity-100 transition-opacity"}),u&&(0,b.jsx)("div",{className:"absolute left-2 top-2 flex items-center gap-2",children:(0,b.jsxs)("span",{className:"inline-flex items-center rounded-full bg-gradient-to-r from-rose-600 to-orange-500 px-2.5 py-1 text-xs font-extrabold text-white shadow-md ring-1 ring-white/30 backdrop-blur",children:["-",v,"%"]})})]})}),(0,b.jsxs)(e.CardContent,{className:"p-3 flex-1 flex flex-col justify-between",children:[(0,b.jsx)("div",{children:(0,b.jsx)(c.default,{href:z,className:"hover:underline",children:(0,b.jsx)("h4",{className:"font-medium text-sm line-clamp-2 leading-tight mb-1 text-foreground",children:a.nombre})})}),(0,b.jsx)("div",{className:"mt-1","data-nosnippet":!0,children:(0,b.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,b.jsx)("p",{className:"text-lg font-extrabold text-primary tracking-tight",children:(0,h.formatCurrency)(s)}),u&&(0,b.jsx)("div",{className:"flex items-baseline gap-2",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground line-through",children:(0,h.formatCurrency)(t)})})]})})]}),(0,b.jsx)(e.CardFooter,{className:"p-3 pt-0",children:(0,b.jsx)(d.Button,{onClick:b=>{if(b.preventDefault(),n(a),y(!0),p.current&&x.length>0){let a=p.current.getBoundingClientRect();o(x[0],a)}r(!0),setTimeout(()=>r(!1),1e3)},className:`w-full h-9 font-semibold rounded-lg transition-all shadow-sm flex items-center justify-center gap-2 ${q?"bg-green-600 hover:bg-green-700":"bg-primary text-primary-foreground hover:bg-primary/90"}`,children:q?(0,b.jsx)("span",{children:"Â¡Agregado!"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Plus,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Agregar"})]})})})]})}a.s(["ProductCard",()=>m])}];

//# sourceMappingURL=components_daa083c1._.js.map