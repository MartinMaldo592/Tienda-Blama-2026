module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},24987,a=>{"use strict";let b=(0,a.i(70106).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],24987)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},70106,a=>{"use strict";var b=a.i(72131);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],70106)},46058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},39118,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},NOT_FOUND_SEGMENT_KEY:function(){return m},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__",m="/_not-found"},5522,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},17171,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(35112);var d=a.i(11011),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f=c.forwardRef((a,c)=>(0,b.jsx)(e.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label";var g=a.i(97895);function h({className:a,...c}){return(0,b.jsx)(f,{"data-slot":"label",className:(0,g.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>h],17171)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},62213,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["default",()=>b])},33508,a=>{"use strict";var b=a.i(62213);a.s(["X",()=>b.default])},38784,a=>{"use strict";let b=(0,a.i(70106).default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);a.s(["ShoppingCart",()=>b],38784)},23025,a=>{"use strict";let b=(0,a.i(70106).default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);a.s(["Minus",()=>b],23025)},23833,a=>{"use strict";let b=(0,a.i(20226).create)(a=>({cartButtonRef:null,animations:[],bumpTimestamp:0,registerCartButton:b=>a({cartButtonRef:b}),startAnimation:(b,c)=>{let d=Math.random().toString(36).substring(7);a(a=>({animations:[...a.animations,{id:d,src:b,startRect:c}]}))},removeAnimation:b=>a(a=>({animations:a.animations.filter(a=>a.id!==b)})),triggerBump:()=>a({bumpTimestamp:Date.now()}),isCartOpen:!1,setCartOpen:b=>a({isCartOpen:b})}));a.s(["useCartAnimationStore",0,b])},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},38632,a=>{"use strict";let b=(0,a.i(70106).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);a.s(["Image",()=>b],38632)},20226,a=>{"use strict";var b=a.i(72131);let c=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f},d=a=>{let d=a?c(a):c,e=a=>(function(a,c=a=>a){let d=b.default.useSyncExternalStore(a.subscribe,b.default.useCallback(()=>c(a.getState()),[a,c]),b.default.useCallback(()=>c(a.getInitialState()),[a,c]));return b.default.useDebugValue(d),d})(d,a);return Object.assign(e,d),e},e=a=>a?d(a):d;a.s(["create",()=>e],20226)},39417,a=>{"use strict";a.s([])},28517,14119,a=>{"use strict";let b,c;a.i(39417);var d=a.i(20226);let e=a=>b=>{try{let c=a(b);if(c instanceof Promise)return c;return{then:a=>e(a)(c),catch(a){return this}}}catch(a){return{then(a){return this},catch:b=>e(b)(a)}}},f=(0,d.create)()((b=(a,b)=>({items:[],total:0,addItem:(b,c)=>{a(a=>{let d=a.items,e=c?.id??null,f=d.find(a=>a.id===b.id&&(a.producto_variante_id??null)===e),g=Number(c?.precio??b.precio),h=c?.precio_antes??b.precio_antes??null,i=c?.etiqueta??null,j=f?d.map(a=>a.id===b.id&&(a.producto_variante_id??null)===e?{...a,quantity:a.quantity+1}:a):[...d,{...b,precio:g,precio_antes:h,producto_variante_id:e,variante_nombre:i,quantity:1}],k=j.reduce((a,b)=>a+b.precio*b.quantity,0);return{items:j,total:k}})},removeItem:(b,c)=>{let d=c??null;a(a=>{let c=a.items.filter(a=>a.id!==b||(a.producto_variante_id??null)!==d),e=c.reduce((a,b)=>a+b.precio*b.quantity,0);return{items:c,total:e}})},updateQuantity:(c,d,e)=>{let f=e??null;d<=0?b().removeItem(c,f):a(a=>{let b=a.items.map(a=>a.id===c&&(a.producto_variante_id??null)===f?{...a,quantity:d}:a),e=b.reduce((a,b)=>a+b.precio*b.quantity,0);return{items:b,total:e}})},clearCart:()=>a({items:[],total:0})}),c={name:"cart-storage"},(a,d,f)=>{let g,h={storage:function(a,b){let c;try{c=a()}catch(a){return}return{getItem:a=>{var b;let d=a=>null===a?null:JSON.parse(a,void 0),e=null!=(b=c.getItem(a))?b:null;return e instanceof Promise?e.then(d):d(e)},setItem:(a,b)=>c.setItem(a,JSON.stringify(b,void 0)),removeItem:a=>c.removeItem(a)}}(()=>localStorage),partialize:a=>a,version:0,merge:(a,b)=>({...b,...a}),...c},i=!1,j=new Set,k=new Set,l=h.storage;if(!l)return b((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),a(...b)},d,f);let m=()=>{let a=h.partialize({...d()});return l.setItem(h.name,{state:a,version:h.version})},n=f.setState;f.setState=(a,b)=>(n(a,b),m());let o=b((...b)=>(a(...b),m()),d,f);f.getInitialState=()=>o;let p=()=>{var b,c;if(!l)return;i=!1,j.forEach(a=>{var b;return a(null!=(b=d())?b:o)});let f=(null==(c=h.onRehydrateStorage)?void 0:c.call(h,null!=(b=d())?b:o))||void 0;return e(l.getItem.bind(l))(h.name).then(a=>{if(a)if("number"!=typeof a.version||a.version===h.version)return[!1,a.state];else{if(h.migrate){let b=h.migrate(a.state,a.version);return b instanceof Promise?b.then(a=>[!0,a]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(b=>{var c;let[e,f]=b;if(a(g=h.merge(f,null!=(c=d())?c:o),!0),e)return m()}).then(()=>{null==f||f(g,void 0),g=d(),i=!0,k.forEach(a=>a(g))}).catch(a=>{null==f||f(void 0,a)})};return f.persist={setOptions:a=>{h={...h,...a},a.storage&&(l=a.storage)},clearStorage:()=>{null==l||l.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:a=>(j.add(a),()=>{j.delete(a)}),onFinishHydration:a=>(k.add(a),()=>{k.delete(a)})},h.skipHydration||p(),g||o}));a.s(["useCartStore",0,f],14119),a.s([],28517)},33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},92966,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HeadManagerContext},16201,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},6491,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d({messages:a,intervalMs:d=3e3,className:e}){let f=(0,c.useMemo)(()=>["ðŸ“¦ðŸšš EnvÃ­o GRATIS para todos los pedidos","âš¡ðŸ·ï¸ Descuentos en productos destacados","â±ï¸ðŸ“ Entrega rÃ¡pida + contraentrega en 24 horas (solo Lima Metropolitana)"],[]),g=a&&a.length>0?a:f,[h,i]=(0,c.useState)(0),j=(0,c.useRef)(!1);return(0,c.useEffect)(()=>{if(g.length<=1)return;let a=window.setInterval(()=>{j.current||i(a=>(a+1)%g.length)},d);return()=>window.clearInterval(a)},[d,g.length]),(0,b.jsx)("div",{className:"w-full h-10 sm:h-9 bg-blue-600 text-white flex items-center justify-center px-4 border-b border-blue-700 "+(e||""),onMouseEnter:()=>{j.current=!0},onMouseLeave:()=>{j.current=!1},role:"status","aria-live":"polite",children:(0,b.jsx)("div",{className:"flex items-center justify-center text-center text-[12px] sm:text-[13px] tracking-wide uppercase font-extrabold animate-pulse",children:(0,b.jsx)("span",{className:"animate-in fade-in duration-300 text-center",children:g[h]},h)})})}a.s(["AnnouncementBar",()=>d])},63640,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(31865),e=a.i(26116),f=a.i(40695),g=a.i(5522),h=a.i(17171),i=a.i(210),j=a.i(96221),k=a.i(24987),l=a.i(97895);a.i(61368);var m=a.i(90078),n=a.i(54813),o=a.i(60225),p=a.i(88719);let q=["places"];function r({items:a,total:c,onBack:e,onComplete:f}){let{isLoaded:g}=(0,d.useLoadScript)({googleMapsApiKey:"AIzaSyDXKR5IfCmDBbWWSqggb-ODoc7gTWKb1-o",libraries:q});return g?(0,b.jsx)(s,{items:a,total:c,onBack:e,onComplete:f}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-48 space-y-4",children:[(0,b.jsx)(j.Loader2,{className:"h-8 w-8 animate-spin text-primary"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Cargando mapa..."})]})}function s({items:a,total:d,onBack:q,onComplete:r}){let[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)("lima"),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(null),[O,P]=(0,c.useState)(""),[Q,R]=(0,c.useState)(0),[S,T]=(0,c.useState)(!1),[U,V]=(0,c.useState)(""),[W,X]=(0,c.useState)(!1),{ready:Y,value:Z,setValue:$,suggestions:{status:_,data:aa},clearSuggestions:ab}=(0,e.default)({requestOptions:{componentRestrictions:{country:"pe"}}}),ac=async a=>{$(a,!1),ab();try{let b=await (0,e.getGeocode)({address:a}),{lat:c,lng:d}=await (0,e.getLatLng)(b[0]);H(`https://www.google.com/maps/?q=${c},${d}`)}catch(a){console.error("Error: ",a)}},ad=Number(d)||0,ae=Math.max(0,Math.min(ad,Number(Q)||0)),af=Math.max(0,Math.round((ad-ae)*100)/100),ag=async()=>{V(""),T(!0),X(!1);try{let a=await (0,o.validateCoupon)(O,ad);R(a.descuento),X(a.descuento>0)}catch(a){R(0),X(!1),V(a?.message||"No se pudo aplicar el cupÃ³n")}finally{T(!1)}},ah=async b=>{if(b.preventDefault(),J(!0),V(""),D(""),9!==w.replace(/\D/g,"").length){z("El celular debe tener 9 dÃ­gitos"),J(!1);return}let c=(0,m.normalizeDni)(A);if(8!==c.length){D("El DNI debe tener 8 dÃ­gitos"),J(!1);return}let d=null,e=ae;if(O.trim())try{let a=await (0,o.validateCoupon)(O,ad);d=a.codigo,e=a.descuento}catch(a){V(a?.message||"CupÃ³n invÃ¡lido"),J(!1);return}let f=Math.max(0,Math.min(ad,Number(e)||0)),g=Math.max(0,Math.round((ad-f)*100)/100),h=(Array.isArray(a)?a:[]).map(a=>({id:Number(a?.id??0),quantity:Number(a?.quantity??0),precio:Number(a?.precio??0),nombre:String(a?.nombre??""),producto_variante_id:a?.producto_variante_id??null,variante_nombre:a?.variante_nombre??null})),i=(0,m.buildWhatsAppPreviewMessage)({name:s||"Cliente",dni:c,phone:w,address:Z||"",reference:E,locationLink:G,items:h,subtotal:ad,discount:f,total:g,couponCode:d,shippingMethod:u}),j=(0,p.isInAppBrowser)(),k=(0,p.isMobileDevice)(),l=null;if(!j&&k){let a=(0,m.buildPreOpenUrl)("+51958279604",i);if(l=window.open(a,"_blank","noopener,noreferrer"))try{l.opener=null}catch(a){}}try{let a=(0,m.normalizeDigits)(w),{orderId:b}=await (0,n.createCheckoutOrder)({name:s,phone:a,dni:c,address:Z,reference:E,locationLink:G,couponCode:d,discountAmount:f,shippingMethod:u,items:h.map(a=>({id:a.id,quantity:a.quantity,precio:a.precio,nombre:a.nombre,producto_variante_id:a.producto_variante_id??null,variante_nombre:a.variante_nombre??null}))}),e=b.toString().padStart(6,"0"),i=(0,m.buildWhatsAppFinalMessage)({orderIdFormatted:e,name:s,dni:c,phone:w,address:Z,reference:E,locationLink:G,items:h,subtotal:ad,discount:f,total:g,couponCode:d,shippingMethod:u}),o=(0,m.buildWhatsAppUrl)("+51958279604",i);(0,m.setLastOrderSuccessMarker)(e),(0,m.clearCartStorage)(),r();try{j||!k?window.location.href=o:l&&!l.closed?l.location.href=o:window.open(o,"_blank")||(N(o),L(!0))}catch(a){N(o),L(!0)}}catch(b){console.error("Error al procesar:",b);let a=String(b?.message||"");(0,o.isCouponRelatedError)(a)?(R(0),X(!1),V(`El cup\xf3n ya no est\xe1 disponible o no es v\xe1lido en este momento. Vuelve a intentar aplicar el cup\xf3n o usa otro.

Detalle: ${a}`)):alert("Error al procesar el pedido: "+a)}finally{J(!1)}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("form",{onSubmit:ah,className:"flex flex-col h-full",children:[(0,b.jsxs)("div",{className:"p-4 border-b flex items-center gap-2 bg-popover",children:[(0,b.jsx)(f.Button,{type:"button",variant:"ghost",size:"icon",onClick:q,disabled:I,className:"h-8 w-8 hover:bg-popover/80",children:(0,b.jsx)(i.ArrowLeft,{className:"h-4 w-4"})}),(0,b.jsx)("h3",{className:"font-semibold text-foreground",children:"Datos de EnvÃ­o"})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(h.Label,{className:"text-base",children:["MÃ©todo de enviÃ³ gratuito ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2 pl-1",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",name:"shipping",value:"lima",checked:"lima"===u,onChange:a=>v(a.target.value),className:"accent-black h-4 w-4"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Lima"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",name:"shipping",value:"provincia",checked:"provincia"===u,onChange:a=>v(a.target.value),className:"accent-black h-4 w-4"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Provincia"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"name",children:"Nombre Completo"}),(0,b.jsx)(g.Input,{id:"name",required:!0,placeholder:"Juan PÃ©rez",value:s,onChange:a=>t(a.target.value),disabled:I})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"phone",children:"Celular"}),(0,b.jsx)(g.Input,{id:"phone",required:!0,type:"tel",inputMode:"numeric",pattern:"[0-9]{9}",minLength:9,maxLength:9,placeholder:"999 999 999",value:w,onChange:a=>{x(a.target.value.replace(/\D/g,"").slice(0,9)),y&&z("")},disabled:I,onInvalid:a=>{a.currentTarget.setCustomValidity("Ingresa un nÃºmero de celular vÃ¡lido de 9 dÃ­gitos")},onInput:a=>{a.currentTarget.setCustomValidity("")}}),y&&(0,b.jsx)("p",{className:"text-xs text-destructive",children:y})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"dni",children:"DNI"}),(0,b.jsx)(g.Input,{id:"dni",required:!0,inputMode:"numeric",pattern:"[0-9]{8}",minLength:8,maxLength:8,placeholder:"12345678",value:A,onChange:a=>{B(a.target.value.replace(/\D/g,"").slice(0,8)),C&&D("")},onInvalid:a=>{a.currentTarget.setCustomValidity("Ingresa un DNI vÃ¡lido de 8 dÃ­gitos")},onInput:a=>{a.currentTarget.setCustomValidity("")},disabled:I}),C&&(0,b.jsx)("p",{className:"text-xs text-destructive",children:C})]}),(0,b.jsxs)("div",{className:"space-y-2 relative",children:[(0,b.jsx)(h.Label,{htmlFor:"address",children:"DirecciÃ³n (Google Maps)"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k.MapPin,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(g.Input,{id:"address",value:Z,onChange:a=>$(a.target.value),disabled:!Y||I,placeholder:"Escribe tu direcciÃ³n...",className:"pl-9",autoComplete:"off"})]}),"OK"===_&&(0,b.jsx)("ul",{className:"absolute z-10 w-full bg-card border border-border rounded-md shadow-lg mt-1 max-h-60 overflow-auto",children:aa.map(({place_id:a,description:c})=>(0,b.jsx)("li",{onClick:()=>ac(c),className:"px-4 py-2 hover:bg-popover cursor-pointer text-sm text-muted-foreground",children:c},a))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"reference",children:"Referencia (Opcional)"}),(0,b.jsx)(g.Input,{id:"reference",placeholder:"Frente al parque, casa azul...",value:E,onChange:a=>F(a.target.value),disabled:I})]}),!1]}),(0,b.jsxs)("div",{className:"p-4 border-t mt-auto bg-popover",children:[(0,b.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"coupon",children:"CupÃ³n de descuento (Opcional)"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Input,{id:"coupon",placeholder:"Ej: PROMO10",value:O,onChange:a=>{P(a.target.value),X(!1),V("")},disabled:I}),(0,b.jsx)(f.Button,{type:"button",variant:"outline",onClick:ag,disabled:I||S,children:S?(0,b.jsx)(j.Loader2,{className:"h-4 w-4 animate-spin"}):"Aplicar"})]}),U&&(0,b.jsx)("p",{className:"text-xs text-destructive",children:U}),W&&!U&&(0,b.jsx)("p",{className:"text-xs text-green-600",children:"CupÃ³n aplicado"})]}),(0,b.jsxs)("div",{className:"text-sm font-medium space-y-1",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{children:"Subtotal:"}),(0,b.jsx)("span",{children:(0,l.formatCurrency)(ad)})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{children:"Descuento:"}),(0,b.jsxs)("span",{children:["-",(0,l.formatCurrency)(ae)]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{children:"Total a Pagar:"}),(0,b.jsx)("span",{className:"text-lg font-bold",children:(0,l.formatCurrency)(af)})]})]})]}),(0,b.jsx)(f.Button,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 h-12 text-base font-bold",disabled:I,children:I?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Loader2,{className:"mr-2 h-4 w-4 animate-spin"})," Procesando..."]}):"Confirmar Pedido en WhatsApp"})]})]}),K&&M&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"w-full max-w-xl bg-card border border-border rounded-lg shadow-lg p-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Abrir WhatsApp"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Pulsa el botÃ³n para abrir tu pedido en WhatsApp."}),(0,b.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,b.jsx)("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md",children:"Abrir WhatsApp"}),(0,b.jsx)("button",{onClick:()=>{L(!1),N(null)},className:"px-4 py-2 border border-border rounded-md",children:"Cerrar"})]})]})})]})}a.s(["CheckoutForm",()=>r])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5e6663cd._.js.map