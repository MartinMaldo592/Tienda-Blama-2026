{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Martin/Desktop/PROYECTOS/Tienda-Blama-2026/components/ui/table.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"table-container\"\r\n      className=\"relative w-full overflow-x-auto\"\r\n    >\r\n      <table\r\n        data-slot=\"table\"\r\n        className={cn(\"w-full caption-bottom text-sm\", className)}\r\n        {...props}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\r\n  return (\r\n    <thead\r\n      data-slot=\"table-header\"\r\n      className={cn(\"[&_tr]:border-b\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\r\n  return (\r\n    <tbody\r\n      data-slot=\"table-body\"\r\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\r\n  return (\r\n    <tfoot\r\n      data-slot=\"table-footer\"\r\n      className={cn(\r\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\r\n  return (\r\n    <tr\r\n      data-slot=\"table-row\"\r\n      className={cn(\r\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\r\n  return (\r\n    <th\r\n      data-slot=\"table-head\"\r\n      className={cn(\r\n        \"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\r\n  return (\r\n    <td\r\n      data-slot=\"table-cell\"\r\n      className={cn(\r\n        \"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableCaption({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"caption\">) {\r\n  return (\r\n    <caption\r\n      data-slot=\"table-caption\"\r\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Table,\r\n  TableHeader,\r\n  TableBody,\r\n  TableFooter,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableCaption,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,8OAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,8OAAC;YACC,aAAU;YACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Martin/Desktop/PROYECTOS/Tienda-Blama-2026/features/admin/services/dashboard.client.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\"\r\n\r\nimport type { AdminDashboardStats, AdminRole } from \"@/features/admin/types\"\r\n\r\nexport async function fetchAdminDashboardStats(args: { role: AdminRole | string; currentUserId: string }): Promise<AdminDashboardStats> {\r\n  const role = String(args.role || \"worker\")\r\n  const currentUserId = String(args.currentUserId || \"\")\r\n\r\n  const { data: pedidos } = await supabase\r\n    .from(\"pedidos\")\r\n    .select(\"id, total, status, asignado_a, created_at\")\r\n\r\n  const deliveredSales = (pedidos || []).filter((p: any) => p.status === \"Entregado\")\r\n  const totalVentasReales = deliveredSales.reduce((sum: number, p: any) => sum + (Number(p.total) || 0), 0)\r\n\r\n  const today = new Date()\r\n  const yyyy = today.getFullYear()\r\n  const mm = String(today.getMonth() + 1).padStart(2, \"0\")\r\n  const dd = String(today.getDate()).padStart(2, \"0\")\r\n  const todayPrefix = `${yyyy}-${mm}-${dd}`\r\n\r\n  const ventasHoy = deliveredSales\r\n    .filter((p: any) => typeof p.created_at === \"string\" && p.created_at.startsWith(todayPrefix))\r\n    .reduce((sum: number, p: any) => sum + (Number(p.total) || 0), 0)\r\n\r\n  const pedidosPendientes = (pedidos || []).filter((p: any) => p.status === \"Pendiente\").length\r\n  const pedidosEnProceso = (pedidos || []).filter((p: any) => [\"Confirmado\", \"Preparando\", \"Enviado\"].includes(p.status)).length\r\n  const pedidosEntregados = deliveredSales.length\r\n\r\n  const pedidosAsignados = (pedidos || []).filter(\r\n    (p: any) => p.asignado_a === currentUserId && ![\"Fallido\", \"Devuelto\", \"Entregado\"].includes(p.status)\r\n  ).length\r\n\r\n  let totalClientes = 0\r\n  if (role === \"admin\") {\r\n    const { count } = await supabase.from(\"clientes\").select(\"*\", { count: \"exact\", head: true })\r\n    totalClientes = count || 0\r\n  }\r\n\r\n  let productosLowStock = 0\r\n  if (role === \"admin\") {\r\n    const { count } = await supabase.from(\"productos\").select(\"*\", { count: \"exact\", head: true }).lt(\"stock\", 5)\r\n    productosLowStock = count || 0\r\n  }\r\n\r\n  return {\r\n    totalVentasReales,\r\n    ventasHoy,\r\n    pedidosPendientes,\r\n    pedidosEnProceso,\r\n    pedidosEntregados,\r\n    pedidosAsignados,\r\n    totalClientes,\r\n    productosLowStock,\r\n  }\r\n}\r\n\r\nexport async function fetchAdminVentasEntregadas(args: { from: string; to: string }) {\r\n  const fromIso = args.from ? `${args.from}T00:00:00.000Z` : undefined\r\n  const toIso = args.to ? `${args.to}T23:59:59.999Z` : undefined\r\n\r\n  let query = supabase\r\n    .from(\"pedidos\")\r\n    .select(\"id, total, status, created_at, clientes (nombre, telefono, dni)\")\r\n    .eq(\"status\", \"Entregado\")\r\n    .order(\"created_at\", { ascending: false })\r\n\r\n  if (fromIso) query = query.gte(\"created_at\", fromIso)\r\n  if (toIso) query = query.lte(\"created_at\", toIso)\r\n\r\n  const { data, error } = await query\r\n  if (error) throw error\r\n  return (data as any[]) || []\r\n}\r\n\r\nexport async function fetchAdminStockBajo(args: { threshold: number }) {\r\n  const th = Number(args.threshold)\r\n  const { data, error } = await supabase\r\n    .from(\"productos\")\r\n    .select(\"id, nombre, precio, stock, imagen_url\")\r\n    .lt(\"stock\", th)\r\n    .order(\"stock\", { ascending: true })\r\n\r\n  if (error) throw error\r\n  return (data as any[]) || []\r\n}\r\n\r\nexport async function fetchAdminPedidosPendientes() {\r\n  const { data, error } = await supabase\r\n    .from(\"pedidos\")\r\n    .select(\"id, total, status, created_at, clientes (nombre, telefono, dni)\")\r\n    .eq(\"status\", \"Pendiente\")\r\n    .order(\"created_at\", { ascending: false })\r\n\r\n  if (error) throw error\r\n  return (data as any[]) || []\r\n}\r\n\r\nconst PROCESS_STATUSES = [\"Confirmado\", \"Preparando\", \"Enviado\"] as const\r\ntype ProcessStatus = (typeof PROCESS_STATUSES)[number]\r\ntype StatusFilter = ProcessStatus | \"all\"\r\n\r\nexport async function fetchAdminPedidosEnProceso(args: { status: StatusFilter; from: string; to: string }) {\r\n  const fromIso = args.from ? `${args.from}T00:00:00.000Z` : undefined\r\n  const toIso = args.to ? `${args.to}T23:59:59.999Z` : undefined\r\n\r\n  let query = supabase\r\n    .from(\"pedidos\")\r\n    .select(\"id, total, status, created_at, asignado_a, clientes (nombre, telefono, dni)\")\r\n    .in(\"status\", PROCESS_STATUSES as unknown as string[])\r\n    .order(\"created_at\", { ascending: false })\r\n\r\n  if (args.status !== \"all\") query = query.eq(\"status\", args.status)\r\n  if (fromIso) query = query.gte(\"created_at\", fromIso)\r\n  if (toIso) query = query.lte(\"created_at\", toIso)\r\n\r\n  const { data, error } = await query\r\n  if (error) throw error\r\n  return (data as any[]) || []\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Martin/Desktop/PROYECTOS/Tienda-Blama-2026/features/admin/services/pedidos.client.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\"\r\n\r\nimport type { AdminRole, PedidoItemRow, PedidoRow, ProfileRow } from \"@/features/admin/types\"\r\n\r\nexport async function fetchAdminWorkers() {\r\n  const { data, error } = await supabase.from(\"profiles\").select(\"id, email, nombre, role\").eq(\"role\", \"worker\")\r\n  if (error) throw error\r\n  return ((data as any[]) || []) as ProfileRow[]\r\n}\r\n\r\nexport async function fetchPedidosForRole(args: { role: AdminRole | string; currentUserId: string }) {\r\n  const role = String(args.role || \"worker\")\r\n  const currentUserId = String(args.currentUserId || \"\")\r\n\r\n  let query = supabase\r\n    .from(\"pedidos\")\r\n    .select(\r\n      `\r\n        *,\r\n        clientes (nombre, telefono, dni)\r\n      `\r\n    )\r\n    .order(\"created_at\", { ascending: false })\r\n\r\n  if (role === \"worker\") {\r\n    query = query.eq(\"asignado_a\", currentUserId)\r\n  }\r\n\r\n  const { data, error } = await query\r\n\r\n  if (error) {\r\n    if (String(error.message || \"\").includes(\"asignado_a\")) {\r\n      const { data: fallbackData } = await supabase\r\n        .from(\"pedidos\")\r\n        .select(`*, clientes (nombre, telefono, dni)`)\r\n        .order(\"created_at\", { ascending: false })\r\n      return ((fallbackData as any[]) || []) as PedidoRow[]\r\n    }\r\n    throw error\r\n  }\r\n\r\n  const rows = ((data as any[]) || []) as PedidoRow[]\r\n\r\n  const withWorkers = await Promise.all(\r\n    rows.map(async (pedido: any) => {\r\n      if (pedido.asignado_a) {\r\n        const { data: workerProfile } = await supabase\r\n          .from(\"profiles\")\r\n          .select(\"id, email, nombre\")\r\n          .eq(\"id\", pedido.asignado_a)\r\n          .single()\r\n        return { ...pedido, asignado_perfil: (workerProfile as any) || null }\r\n      }\r\n      return { ...pedido, asignado_perfil: null }\r\n    })\r\n  )\r\n\r\n  return withWorkers as PedidoRow[]\r\n}\r\n\r\nexport async function assignPedidoToWorker(args: { pedidoId: number; workerId: string | null }) {\r\n  const assignValue = args.workerId ? String(args.workerId) : null\r\n  const { error } = await supabase\r\n    .from(\"pedidos\")\r\n    .update({\r\n      asignado_a: assignValue,\r\n      fecha_asignacion: assignValue ? new Date().toISOString() : null,\r\n    })\r\n    .eq(\"id\", args.pedidoId)\r\n\r\n  if (error) throw error\r\n}\r\n\r\nexport async function fetchPedidoDetail(pedidoId: number) {\r\n  const { data: pedidoData, error } = await supabase\r\n    .from(\"pedidos\")\r\n    .select(\r\n      `\r\n        *,\r\n        clientes (*)\r\n      `\r\n    )\r\n    .eq(\"id\", pedidoId)\r\n    .single()\r\n\r\n  if (error) throw error\r\n\r\n  let asignadoPerfil: any = null\r\n  if ((pedidoData as any)?.asignado_a) {\r\n    const { data: workerProfile } = await supabase\r\n      .from(\"profiles\")\r\n      .select(\"id, email, nombre\")\r\n      .eq(\"id\", (pedidoData as any).asignado_a)\r\n      .single()\r\n    asignadoPerfil = workerProfile\r\n  }\r\n\r\n  const pedido = { ...(pedidoData as any), asignado_perfil: asignadoPerfil } as PedidoRow\r\n\r\n  const { data: itemsData, error: itemsErr } = await supabase\r\n    .from(\"pedido_items\")\r\n    .select(\r\n      `\r\n        *,\r\n        productos (nombre, precio, imagen_url)\r\n      `\r\n    )\r\n    .eq(\"pedido_id\", pedidoId)\r\n\r\n  if (itemsErr) throw itemsErr\r\n\r\n  return {\r\n    pedido,\r\n    items: ((itemsData as any[]) || []) as PedidoItemRow[],\r\n  }\r\n}\r\n\r\nexport async function updatePedidoStatusWithStock(args: { pedidoId: number; nextStatus: string; stockDescontado: boolean }) {\r\n  const pedidoId = Number(args.pedidoId)\r\n  const nextStatus = String(args.nextStatus || \"\")\r\n\r\n  if (nextStatus === \"Confirmado\" && !args.stockDescontado) {\r\n    const { data: itemsData, error: itemsError } = await supabase\r\n      .from(\"pedido_items\")\r\n      .select(\"producto_id, producto_variante_id, cantidad\")\r\n      .eq(\"pedido_id\", pedidoId)\r\n\r\n    if (itemsError) throw itemsError\r\n\r\n    const safeItems = (itemsData || []).filter((it: any) => it.producto_id)\r\n\r\n    for (const it of safeItems) {\r\n      const productoId = Number(it.producto_id)\r\n      const varianteId = it.producto_variante_id != null ? Number(it.producto_variante_id) : null\r\n      const qty = Number(it.cantidad || 0)\r\n      if (!productoId || qty <= 0) continue\r\n\r\n      if (varianteId) {\r\n        const { data: variante, error: varError } = await supabase\r\n          .from(\"producto_variantes\")\r\n          .select(\"stock\")\r\n          .eq(\"id\", varianteId)\r\n          .single()\r\n\r\n        if (varError) throw varError\r\n\r\n        const currentStock = Number((variante as any)?.stock ?? 0)\r\n        const newStock = Math.max(0, currentStock - qty)\r\n\r\n        const { error: updError } = await supabase.from(\"producto_variantes\").update({ stock: newStock }).eq(\"id\", varianteId)\r\n\r\n        if (updError) throw updError\r\n      } else {\r\n        const { data: producto, error: prodError } = await supabase.from(\"productos\").select(\"stock\").eq(\"id\", productoId).single()\r\n\r\n        if (prodError) throw prodError\r\n\r\n        const currentStock = Number((producto as any)?.stock ?? 0)\r\n        const newStock = Math.max(0, currentStock - qty)\r\n\r\n        const { error: updError } = await supabase.from(\"productos\").update({ stock: newStock }).eq(\"id\", productoId)\r\n\r\n        if (updError) throw updError\r\n      }\r\n    }\r\n\r\n    const { error: markError } = await supabase.from(\"pedidos\").update({ stock_descontado: true }).eq(\"id\", pedidoId)\r\n    if (markError) throw markError\r\n  }\r\n\r\n  const { error } = await supabase.from(\"pedidos\").update({ status: nextStatus }).eq(\"id\", pedidoId)\r\n  if (error) throw error\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 384, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Martin/Desktop/PROYECTOS/Tienda-Blama-2026/features/admin/services/productos.client.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\"\r\n\r\nexport async function fetchAdminProductos() {\r\n  const { data, error } = await supabase.from(\"productos\").select(\"*\").order(\"id\", { ascending: true })\r\n  if (error) throw error\r\n  return (data as any[]) || []\r\n}\r\n\r\nexport async function fetchAdminProductoById(id: number) {\r\n  const { data, error } = await supabase.from(\"productos\").select(\"*\").eq(\"id\", id).single()\r\n  if (error) throw error\r\n  return data as any\r\n}\r\n\r\nexport async function fetchAdminCategorias() {\r\n  const { data, error } = await supabase.from(\"categorias\").select(\"*\")\r\n  if (error) throw error\r\n  return (data as any[]) || []\r\n}\r\n\r\nexport async function createAdminCategoria(args: { nombre: string }) {\r\n  const nombre = String(args.nombre || \"\").trim()\r\n  const slug = nombre.toLowerCase().replace(/ /g, \"-\").replace(/[^\\w-]+/g, \"\")\r\n  const { data, error } = await supabase.from(\"categorias\").insert({ nombre, slug }).select().single()\r\n  if (error) throw error\r\n  return data as any\r\n}\r\n\r\nexport async function fetchProductoSpecsAndVariants(productId: number) {\r\n  const [specRes, varRes] = await Promise.all([\r\n    supabase.from(\"producto_especificaciones\").select(\"*\").eq(\"producto_id\", productId).order(\"orden\", { ascending: true }).order(\"id\", { ascending: true }),\r\n    supabase.from(\"producto_variantes\").select(\"*\").eq(\"producto_id\", productId).order(\"id\", { ascending: true }),\r\n  ])\r\n\r\n  return {\r\n    specs: (specRes.data as any[]) || [],\r\n    variants: (varRes.data as any[]) || [],\r\n  }\r\n}\r\n\r\nexport async function uploadProductImages(args: { files: File[] }) {\r\n  const files = Array.isArray(args.files) ? args.files : []\r\n  const uploadedUrls: string[] = []\r\n\r\n  for (const file of files) {\r\n    const fileExt = file.name.split(\".\").pop() || \"jpg\"\r\n    const fileName = `${Date.now()}-${Math.random().toString(16).slice(2)}.${fileExt}`\r\n    const filePath = `imagenes/${fileName}`\r\n\r\n    const { error: uploadError } = await supabase.storage.from(\"productos\").upload(filePath, file)\r\n    if (uploadError) throw uploadError\r\n\r\n    const { data } = supabase.storage.from(\"productos\").getPublicUrl(filePath)\r\n    if (data?.publicUrl) uploadedUrls.push(data.publicUrl)\r\n  }\r\n\r\n  return uploadedUrls\r\n}\r\n\r\nexport async function uploadProductVideos(args: { files: File[] }) {\r\n  const files = Array.isArray(args.files) ? args.files : []\r\n  const uploadedUrls: string[] = []\r\n\r\n  for (const file of files) {\r\n    const fileExt = file.name.split(\".\").pop() || \"mp4\"\r\n    const fileName = `${Date.now()}-${Math.random().toString(16).slice(2)}.${fileExt}`\r\n    const filePath = `videos/${fileName}`\r\n\r\n    const { error: uploadError } = await supabase.storage\r\n      .from(\"productos\")\r\n      .upload(filePath, file, { upsert: false, contentType: file.type || \"video/mp4\" })\r\n\r\n    if (uploadError) throw uploadError\r\n\r\n    const { data } = supabase.storage.from(\"productos\").getPublicUrl(filePath)\r\n    if (data?.publicUrl) uploadedUrls.push(data.publicUrl)\r\n  }\r\n\r\n  return uploadedUrls\r\n}\r\n\r\nexport async function saveAdminProductoViaApi(args: { accessToken: string; method: \"POST\" | \"PUT\"; body: unknown }) {\r\n  const res = await fetch(\"/api/admin/productos\", {\r\n    method: args.method,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${args.accessToken}`,\r\n    },\r\n    body: JSON.stringify(args.body),\r\n  })\r\n\r\n  let json: any = null\r\n  try {\r\n    json = await res.json()\r\n  } catch (err) {\r\n    json = null\r\n  }\r\n\r\n  if (!res.ok || !json?.ok) {\r\n    throw new Error(String(json?.error || \"No se pudo guardar el producto\"))\r\n  }\r\n\r\n  return json\r\n}\r\n\r\nexport async function deleteAdminProductoViaApi(args: { accessToken: string; id: number }) {\r\n  const res = await fetch(\"/api/admin/productos\", {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${args.accessToken}`,\r\n    },\r\n    body: JSON.stringify({ id: args.id }),\r\n  })\r\n\r\n  let json: any = null\r\n  try {\r\n    json = await res.json()\r\n  } catch (err) {\r\n    json = null\r\n  }\r\n\r\n  if (!res.ok || !json?.ok) {\r\n    throw new Error(String(json?.error || \"No se pudo eliminar\"))\r\n  }\r\n\r\n  return json\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 526, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Martin/Desktop/PROYECTOS/Tienda-Blama-2026/features/admin/services/usuarios.client.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\"\r\n\r\nimport type { ProfileRow } from \"@/features/admin/types\"\r\n\r\nexport async function fetchAdminProfiles() {\r\n  const { data, error } = await supabase.from(\"profiles\").select(\"id, email, nombre, role, created_at\").order(\"created_at\", { ascending: false })\r\n  if (error) throw error\r\n  return ((data as any[]) || []) as ProfileRow[]\r\n}\r\n\r\nexport async function createWorkerViaApi(args: { accessToken: string; email: string; nombre: string; password: string | null }) {\r\n  const res = await fetch(\"/api/admin/create-worker\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${args.accessToken}`,\r\n    },\r\n    body: JSON.stringify({\r\n      email: args.email,\r\n      nombre: args.nombre,\r\n      password: args.password,\r\n    }),\r\n  })\r\n\r\n  const json = await res.json()\r\n  if (!res.ok) {\r\n    throw new Error(String(json?.error || \"Error\"))\r\n  }\r\n\r\n  return json as any\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAIO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC,uCAAuC,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM;IAC7I,IAAI,OAAO,MAAM;IACjB,OAAQ,AAAC,QAAkB,EAAE;AAC/B;AAEO,eAAe,mBAAmB,IAAqF;IAC5H,MAAM,MAAM,MAAM,MAAM,4BAA4B;QAClD,QAAQ;QACR,SAAS;YACP,gBAAgB;YAChB,eAAe,CAAC,OAAO,EAAE,KAAK,WAAW,EAAE;QAC7C;QACA,MAAM,KAAK,SAAS,CAAC;YACnB,OAAO,KAAK,KAAK;YACjB,QAAQ,KAAK,MAAM;YACnB,UAAU,KAAK,QAAQ;QACzB;IACF;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM,OAAO,MAAM,SAAS;IACxC;IAEA,OAAO;AACT"}},
    {"offset": {"line": 564, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Martin/Desktop/PROYECTOS/Tienda-Blama-2026/features/admin/services/cupones.client.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\"\r\n\r\nexport async function fetchAdminCupones() {\r\n  const { data, error } = await supabase.from(\"cupones\").select(\"*\").order(\"created_at\", { ascending: false })\r\n  if (error) throw error\r\n  return (data as any[]) || []\r\n}\r\n\r\nexport async function createAdminCupon(payload: any) {\r\n  const { error } = await supabase.from(\"cupones\").insert(payload)\r\n  if (error) throw error\r\n}\r\n\r\nexport async function updateAdminCupon(id: number, payload: any) {\r\n  const { error } = await supabase.from(\"cupones\").update(payload).eq(\"id\", id)\r\n  if (error) throw error\r\n}\r\n\r\nexport async function deleteAdminCupon(id: number) {\r\n  const { error } = await supabase.from(\"cupones\").delete().eq(\"id\", id)\r\n  if (error) throw error\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,WAAW,MAAM,CAAC,KAAK,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM;IAC1G,IAAI,OAAO,MAAM;IACjB,OAAO,AAAC,QAAkB,EAAE;AAC9B;AAEO,eAAe,iBAAiB,OAAY;IACjD,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,WAAW,MAAM,CAAC;IACxD,IAAI,OAAO,MAAM;AACnB;AAEO,eAAe,iBAAiB,EAAU,EAAE,OAAY;IAC7D,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,WAAW,MAAM,CAAC,SAAS,EAAE,CAAC,MAAM;IAC1E,IAAI,OAAO,MAAM;AACnB;AAEO,eAAe,iBAAiB,EAAU;IAC/C,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,WAAW,MAAM,GAAG,EAAE,CAAC,MAAM;IACnE,IAAI,OAAO,MAAM;AACnB"}},
    {"offset": {"line": 599, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Martin/Desktop/PROYECTOS/Tienda-Blama-2026/features/admin/services/banners.client.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\"\r\n\r\nexport async function fetchHomeBanners() {\r\n  const { data, error } = await supabase.from(\"home_banners\").select(\"*\").order(\"orden\", { ascending: true }).order(\"id\", { ascending: true })\r\n  if (error) throw error\r\n  return (data as any[]) || []\r\n}\r\n\r\nexport async function saveHomeBanner(args: { id?: number | null; payload: any }) {\r\n  if (args.id != null) {\r\n    const { error } = await supabase.from(\"home_banners\").update(args.payload).eq(\"id\", args.id)\r\n    if (error) throw error\r\n    return\r\n  }\r\n\r\n  const { error } = await supabase.from(\"home_banners\").insert(args.payload)\r\n  if (error) throw error\r\n}\r\n\r\nexport async function deleteHomeBanner(id: number) {\r\n  const { error } = await supabase.from(\"home_banners\").delete().eq(\"id\", id)\r\n  if (error) throw error\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,gBAAgB,MAAM,CAAC,KAAK,KAAK,CAAC,SAAS;QAAE,WAAW;IAAK,GAAG,KAAK,CAAC,MAAM;QAAE,WAAW;IAAK;IAC1I,IAAI,OAAO,MAAM;IACjB,OAAO,AAAC,QAAkB,EAAE;AAC9B;AAEO,eAAe,eAAe,IAA0C;IAC7E,IAAI,KAAK,EAAE,IAAI,MAAM;QACnB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,gBAAgB,MAAM,CAAC,KAAK,OAAO,EAAE,EAAE,CAAC,MAAM,KAAK,EAAE;QAC3F,IAAI,OAAO,MAAM;QACjB;IACF;IAEA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,gBAAgB,MAAM,CAAC,KAAK,OAAO;IACzE,IAAI,OAAO,MAAM;AACnB;AAEO,eAAe,iBAAiB,EAAU;IAC/C,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,gBAAgB,MAAM,GAAG,EAAE,CAAC,MAAM;IACxE,IAAI,OAAO,MAAM;AACnB"}},
    {"offset": {"line": 635, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Martin/Desktop/PROYECTOS/Tienda-Blama-2026/features/admin/services/announcement-bar.client.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\"\r\n\r\nexport type AnnouncementBarConfig = {\r\n  enabled: boolean\r\n  interval_ms: number\r\n  messages: string[]\r\n}\r\n\r\nasync function getAccessToken() {\r\n  const res = await supabase.auth.getSession()\r\n  const token = res?.data?.session?.access_token || \"\"\r\n  return token\r\n}\r\n\r\nexport async function fetchAnnouncementBarConfigViaApi() {\r\n  const token = await getAccessToken()\r\n  if (!token) throw new Error(\"No autorizado\")\r\n\r\n  const res = await fetch(\"/api/admin/announcement-bar\", {\r\n    method: \"GET\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n\r\n  let json: any = null\r\n  try {\r\n    json = await res.json()\r\n  } catch (e) {\r\n    json = null\r\n  }\r\n\r\n  if (!res.ok || !json?.ok) {\r\n    throw new Error(String(json?.error || \"No se pudo obtener la configuraciÃ³n\"))\r\n  }\r\n\r\n  const data = (json?.data || {}) as any\r\n  return {\r\n    enabled: Boolean(data.enabled),\r\n    interval_ms: Number(data.interval_ms) || 3500,\r\n    messages: Array.isArray(data.messages) ? (data.messages as string[]) : [],\r\n  } as AnnouncementBarConfig\r\n}\r\n\r\nexport async function saveAnnouncementBarConfigViaApi(config: AnnouncementBarConfig) {\r\n  const token = await getAccessToken()\r\n  if (!token) throw new Error(\"No autorizado\")\r\n\r\n  const res = await fetch(\"/api/admin/announcement-bar\", {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(config),\r\n  })\r\n\r\n  let json: any = null\r\n  try {\r\n    json = await res.json()\r\n  } catch (e) {\r\n    json = null\r\n  }\r\n\r\n  if (!res.ok || !json?.ok) {\r\n    throw new Error(String(json?.error || \"No se pudo guardar\"))\r\n  }\r\n\r\n  return json\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAQA,eAAe;IACb,MAAM,MAAM,MAAM,iIAAQ,CAAC,IAAI,CAAC,UAAU;IAC1C,MAAM,QAAQ,KAAK,MAAM,SAAS,gBAAgB;IAClD,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,QAAQ,MAAM;IACpB,IAAI,CAAC,OAAO,MAAM,IAAI,MAAM;IAE5B,MAAM,MAAM,MAAM,MAAM,+BAA+B;QACrD,QAAQ;QACR,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;IACF;IAEA,IAAI,OAAY;IAChB,IAAI;QACF,OAAO,MAAM,IAAI,IAAI;IACvB,EAAE,OAAO,GAAG;QACV,OAAO;IACT;IAEA,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,IAAI;QACxB,MAAM,IAAI,MAAM,OAAO,MAAM,SAAS;IACxC;IAEA,MAAM,OAAQ,MAAM,QAAQ,CAAC;IAC7B,OAAO;QACL,SAAS,QAAQ,KAAK,OAAO;QAC7B,aAAa,OAAO,KAAK,WAAW,KAAK;QACzC,UAAU,MAAM,OAAO,CAAC,KAAK,QAAQ,IAAK,KAAK,QAAQ,GAAgB,EAAE;IAC3E;AACF;AAEO,eAAe,gCAAgC,MAA6B;IACjF,MAAM,QAAQ,MAAM;IACpB,IAAI,CAAC,OAAO,MAAM,IAAI,MAAM;IAE5B,MAAM,MAAM,MAAM,MAAM,+BAA+B;QACrD,QAAQ;QACR,SAAS;YACP,gBAAgB;YAChB,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;QACA,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,OAAY;IAChB,IAAI;QACF,OAAO,MAAM,IAAI,IAAI;IACvB,EAAE,OAAO,GAAG;QACV,OAAO;IACT;IAEA,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,IAAI;QACxB,MAAM,IAAI,MAAM,OAAO,MAAM,SAAS;IACxC;IAEA,OAAO;AACT"}},
    {"offset": {"line": 699, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Martin/Desktop/PROYECTOS/Tienda-Blama-2026/features/admin/services/incidencias.client.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\"\r\n\r\nexport async function fetchPedidosForIncidencias() {\r\n  const { data, error } = await supabase\r\n    .from(\"pedidos\")\r\n    .select(\"id, status, created_at, clientes (nombre, telefono)\")\r\n    .order(\"created_at\", { ascending: false })\r\n    .limit(200)\r\n\r\n  if (error) throw error\r\n  return (data as any[]) || []\r\n}\r\n\r\nexport async function fetchIncidencias() {\r\n  const { data, error } = await supabase\r\n    .from(\"incidencias\")\r\n    .select(\"*, pedidos (id, status, created_at, clientes (nombre, telefono))\")\r\n    .order(\"created_at\", { ascending: false })\r\n\r\n  if (error) throw error\r\n  return (data as any[]) || []\r\n}\r\n\r\nexport async function uploadIncidenciaImages(args: { pedidoId: string; files: File[] }) {\r\n  const pedidoId = String(args.pedidoId || \"\").trim()\r\n  const files = Array.isArray(args.files) ? args.files : []\r\n\r\n  const uploadedUrls: string[] = []\r\n\r\n  for (const file of files) {\r\n    const fileExt = file.name.split(\".\").pop() || \"jpg\"\r\n    const fileName = `${Date.now()}-${Math.random().toString(16).slice(2)}.${fileExt}`\r\n    const folder = pedidoId ? `incidencias/${pedidoId}` : \"incidencias\"\r\n    const filePath = `${folder}/${fileName}`\r\n\r\n    const { error: uploadError } = await supabase.storage.from(\"productos\").upload(filePath, file)\r\n    if (uploadError) throw uploadError\r\n\r\n    const { data } = supabase.storage.from(\"productos\").getPublicUrl(filePath)\r\n    if (data?.publicUrl) uploadedUrls.push(data.publicUrl)\r\n  }\r\n\r\n  return uploadedUrls\r\n}\r\n\r\nexport async function createIncidencia(payload: any) {\r\n  async function save(withFotos: boolean) {\r\n    const p: any = { ...payload }\r\n    if (!withFotos) delete p.fotos\r\n    return supabase.from(\"incidencias\").insert(p)\r\n  }\r\n\r\n  const first = await save(true)\r\n  let error = first.error\r\n  if (error && typeof (error as any).message === \"string\" && (error as any).message.toLowerCase().includes(\"fotos\")) {\r\n    const second = await save(false)\r\n    error = second.error\r\n  }\r\n\r\n  if (error) throw new Error((error as any).message)\r\n}\r\n\r\nexport async function deleteIncidencia(id: number) {\r\n  const { error } = await supabase.from(\"incidencias\").delete().eq(\"id\", id)\r\n  if (error) throw error\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC,uDACP,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM,GACvC,KAAK,CAAC;IAET,IAAI,OAAO,MAAM;IACjB,OAAO,AAAC,QAAkB,EAAE;AAC9B;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACnC,IAAI,CAAC,eACL,MAAM,CAAC,oEACP,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM;IAE1C,IAAI,OAAO,MAAM;IACjB,OAAO,AAAC,QAAkB,EAAE;AAC9B;AAEO,eAAe,uBAAuB,IAAyC;IACpF,MAAM,WAAW,OAAO,KAAK,QAAQ,IAAI,IAAI,IAAI;IACjD,MAAM,QAAQ,MAAM,OAAO,CAAC,KAAK,KAAK,IAAI,KAAK,KAAK,GAAG,EAAE;IAEzD,MAAM,eAAyB,EAAE;IAEjC,KAAK,MAAM,QAAQ,MAAO;QACxB,MAAM,UAAU,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM;QAC9C,MAAM,WAAW,GAAG,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,SAAS;QAClF,MAAM,SAAS,WAAW,CAAC,YAAY,EAAE,UAAU,GAAG;QACtD,MAAM,WAAW,GAAG,OAAO,CAAC,EAAE,UAAU;QAExC,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,iIAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,MAAM,CAAC,UAAU;QACzF,IAAI,aAAa,MAAM;QAEvB,MAAM,EAAE,IAAI,EAAE,GAAG,iIAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,YAAY,CAAC;QACjE,IAAI,MAAM,WAAW,aAAa,IAAI,CAAC,KAAK,SAAS;IACvD;IAEA,OAAO;AACT;AAEO,eAAe,iBAAiB,OAAY;IACjD,eAAe,KAAK,SAAkB;QACpC,MAAM,IAAS;YAAE,GAAG,OAAO;QAAC;QAC5B,IAAI,CAAC,WAAW,OAAO,EAAE,KAAK;QAC9B,OAAO,iIAAQ,CAAC,IAAI,CAAC,eAAe,MAAM,CAAC;IAC7C;IAEA,MAAM,QAAQ,MAAM,KAAK;IACzB,IAAI,QAAQ,MAAM,KAAK;IACvB,IAAI,SAAS,OAAO,AAAC,MAAc,OAAO,KAAK,YAAY,AAAC,MAAc,OAAO,CAAC,WAAW,GAAG,QAAQ,CAAC,UAAU;QACjH,MAAM,SAAS,MAAM,KAAK;QAC1B,QAAQ,OAAO,KAAK;IACtB;IAEA,IAAI,OAAO,MAAM,IAAI,MAAM,AAAC,MAAc,OAAO;AACnD;AAEO,eAAe,iBAAiB,EAAU;IAC/C,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,eAAe,MAAM,GAAG,EAAE,CAAC,MAAM;IACvE,IAAI,OAAO,MAAM;AACnB"}},
    {"offset": {"line": 767, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Martin/Desktop/PROYECTOS/Tienda-Blama-2026/features/admin/services/preguntas.client.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\"\r\n\r\nexport async function fetchAdminQuestions() {\r\n  const { data, error } = await supabase\r\n    .from(\"product_questions\")\r\n    .select(\r\n      \"id, product_id, question, asker_name, asker_phone, published, created_at, productos(nombre), product_answers(id, answer, answered_by, created_at, published)\"\r\n    )\r\n    .order(\"created_at\", { ascending: false })\r\n    .limit(200)\r\n\r\n  if (error) throw error\r\n  return (data as any[]) || []\r\n}\r\n\r\nexport async function setQuestionPublished(args: { id: number; published: boolean }) {\r\n  const { error } = await supabase.from(\"product_questions\").update({ published: args.published }).eq(\"id\", args.id)\r\n  if (error) throw error\r\n}\r\n\r\nexport async function saveQuestionAnswer(args: { questionId: number; answer: string }) {\r\n  const answer = String(args.answer || \"\").trim()\r\n\r\n  const { data: sessionRes } = await supabase.auth.getSession()\r\n  const userId = (sessionRes as any)?.session?.user?.id || null\r\n\r\n  let answeredBy: string | null = null\r\n  if (userId) {\r\n    const { data: profile } = await supabase.from(\"profiles\").select(\"email, nombre\").eq(\"id\", userId).maybeSingle()\r\n    answeredBy = String((profile as any)?.nombre || (profile as any)?.email || \"Admin\")\r\n  }\r\n\r\n  const { data: current } = await supabase\r\n    .from(\"product_questions\")\r\n    .select(\"id, product_answers(id)\")\r\n    .eq(\"id\", args.questionId)\r\n    .maybeSingle()\r\n\r\n  const existingId =\r\n    current && Array.isArray((current as any).product_answers) && (current as any).product_answers.length > 0\r\n      ? Number((current as any).product_answers[0]?.id)\r\n      : null\r\n\r\n  if (existingId) {\r\n    const { error } = await supabase\r\n      .from(\"product_answers\")\r\n      .update({ answer, answered_by: answeredBy, published: true })\r\n      .eq(\"id\", existingId)\r\n    if (error) throw error\r\n  } else {\r\n    const { error } = await supabase\r\n      .from(\"product_answers\")\r\n      .insert({ question_id: args.questionId, answer, answered_by: answeredBy, published: true })\r\n    if (error) throw error\r\n  }\r\n\r\n  const { error: pubErr } = await supabase.from(\"product_questions\").update({ published: true }).eq(\"id\", args.questionId)\r\n  if (pubErr) throw pubErr\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACnC,IAAI,CAAC,qBACL,MAAM,CACL,gKAED,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM,GACvC,KAAK,CAAC;IAET,IAAI,OAAO,MAAM;IACjB,OAAO,AAAC,QAAkB,EAAE;AAC9B;AAEO,eAAe,qBAAqB,IAAwC;IACjF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,qBAAqB,MAAM,CAAC;QAAE,WAAW,KAAK,SAAS;IAAC,GAAG,EAAE,CAAC,MAAM,KAAK,EAAE;IACjH,IAAI,OAAO,MAAM;AACnB;AAEO,eAAe,mBAAmB,IAA4C;IACnF,MAAM,SAAS,OAAO,KAAK,MAAM,IAAI,IAAI,IAAI;IAE7C,MAAM,EAAE,MAAM,UAAU,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,UAAU;IAC3D,MAAM,SAAS,AAAC,YAAoB,SAAS,MAAM,MAAM;IAEzD,IAAI,aAA4B;IAChC,IAAI,QAAQ;QACV,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC,iBAAiB,EAAE,CAAC,MAAM,QAAQ,WAAW;QAC9G,aAAa,OAAO,AAAC,SAAiB,UAAW,SAAiB,SAAS;IAC7E;IAEA,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM,iIAAQ,CACrC,IAAI,CAAC,qBACL,MAAM,CAAC,2BACP,EAAE,CAAC,MAAM,KAAK,UAAU,EACxB,WAAW;IAEd,MAAM,aACJ,WAAW,MAAM,OAAO,CAAC,AAAC,QAAgB,eAAe,KAAK,AAAC,QAAgB,eAAe,CAAC,MAAM,GAAG,IACpG,OAAO,AAAC,QAAgB,eAAe,CAAC,EAAE,EAAE,MAC5C;IAEN,IAAI,YAAY;QACd,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAC7B,IAAI,CAAC,mBACL,MAAM,CAAC;YAAE;YAAQ,aAAa;YAAY,WAAW;QAAK,GAC1D,EAAE,CAAC,MAAM;QACZ,IAAI,OAAO,MAAM;IACnB,OAAO;QACL,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAC7B,IAAI,CAAC,mBACL,MAAM,CAAC;YAAE,aAAa,KAAK,UAAU;YAAE;YAAQ,aAAa;YAAY,WAAW;QAAK;QAC3F,IAAI,OAAO,MAAM;IACnB;IAEA,MAAM,EAAE,OAAO,MAAM,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,qBAAqB,MAAM,CAAC;QAAE,WAAW;IAAK,GAAG,EAAE,CAAC,MAAM,KAAK,UAAU;IACvH,IAAI,QAAQ,MAAM;AACpB"}},
    {"offset": {"line": 826, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Martin/Desktop/PROYECTOS/Tienda-Blama-2026/features/admin/services/resenas.client.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\"\r\n\r\nexport async function fetchAdminReviews() {\r\n  const { data, error } = await supabase\r\n    .from(\"product_reviews\")\r\n    .select(\"id, product_id, rating, title, body, customer_name, customer_city, verified, approved, created_at, productos(nombre)\")\r\n    .order(\"created_at\", { ascending: false })\r\n    .limit(200)\r\n\r\n  if (error) throw error\r\n  return (data as any[]) || []\r\n}\r\n\r\nexport async function setReviewApproved(args: { id: number; approved: boolean }) {\r\n  const { error } = await supabase.from(\"product_reviews\").update({ approved: args.approved }).eq(\"id\", args.id)\r\n  if (error) throw error\r\n}\r\n\r\nexport async function deleteReview(id: number) {\r\n  const { error } = await supabase.from(\"product_reviews\").delete().eq(\"id\", id)\r\n  if (error) throw error\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACnC,IAAI,CAAC,mBACL,MAAM,CAAC,wHACP,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM,GACvC,KAAK,CAAC;IAET,IAAI,OAAO,MAAM;IACjB,OAAO,AAAC,QAAkB,EAAE;AAC9B;AAEO,eAAe,kBAAkB,IAAuC;IAC7E,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,mBAAmB,MAAM,CAAC;QAAE,UAAU,KAAK,QAAQ;IAAC,GAAG,EAAE,CAAC,MAAM,KAAK,EAAE;IAC7G,IAAI,OAAO,MAAM;AACnB;AAEO,eAAe,aAAa,EAAU;IAC3C,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,mBAAmB,MAAM,GAAG,EAAE,CAAC,MAAM;IAC3E,IAAI,OAAO,MAAM;AACnB"}},
    {"offset": {"line": 857, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Martin/Desktop/PROYECTOS/Tienda-Blama-2026/features/admin/services/clientes.client.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\"\r\n\r\nexport async function fetchAdminClientes() {\r\n  const { data, error } = await supabase.from(\"clientes\").select(\"*\").order(\"id\", { ascending: false })\r\n  if (error) throw error\r\n  return (data as any[]) || []\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC,KAAK,KAAK,CAAC,MAAM;QAAE,WAAW;IAAM;IACnG,IAAI,OAAO,MAAM;IACjB,OAAO,AAAC,QAAkB,EAAE;AAC9B"}},
    {"offset": {"line": 874, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Martin/Desktop/PROYECTOS/Tienda-Blama-2026/features/admin/index.ts"],"sourcesContent":["export * from \"@/features/admin/types\"\r\nexport * from \"@/features/admin/services/dashboard.client\"\r\nexport * from \"@/features/admin/services/pedidos.client\"\r\nexport * from \"@/features/admin/services/productos.client\"\r\nexport * from \"@/features/admin/services/usuarios.client\"\r\nexport * from \"@/features/admin/services/cupones.client\"\r\nexport * from \"@/features/admin/services/banners.client\"\r\nexport * from \"@/features/admin/services/announcement-bar.client\"\r\nexport * from \"@/features/admin/services/incidencias.client\"\r\nexport * from \"@/features/admin/services/preguntas.client\"\r\nexport * from \"@/features/admin/services/resenas.client\"\r\nexport * from \"@/features/admin/services/clientes.client\"\r\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 903, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Martin/Desktop/PROYECTOS/Tienda-Blama-2026/app/admin/productos/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport Link from \"next/link\"\r\nimport { supabase } from \"@/lib/supabaseClient\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { useRoleGuard } from \"@/lib/use-role-guard\"\r\nimport { AccessDenied } from \"@/components/admin/access-denied\"\r\nimport {\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableHead,\r\n    TableHeader,\r\n    TableRow,\r\n} from \"@/components/ui/table\"\r\n\r\nimport { formatCurrency } from \"@/lib/utils\"\r\n\r\nimport { Plus, Search, Edit, Trash2, Image as ImageIcon } from \"lucide-react\"\r\nimport { deleteAdminProductoViaApi, fetchAdminProductos } from \"@/features/admin\"\r\n\r\nexport default function ProductosPage() {\r\n    const router = useRouter()\r\n    const [productos, setProductos] = useState<any[]>([])\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    const guard = useRoleGuard({ allowedRoles: ['admin'] })\r\n\r\n    useEffect(() => {\r\n        if (guard.loading || guard.accessDenied) return\r\n        fetchProductos()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [guard.loading, guard.accessDenied])\r\n\r\n    async function fetchProductos() {\r\n        setLoading(true)\r\n        try {\r\n            const data = await fetchAdminProductos()\r\n            setProductos(data)\r\n        } catch (err) {\r\n            setProductos([])\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleDelete = async (id: number) => {\r\n        if (!confirm(\"Â¿EstÃ¡s seguro de que deseas eliminar este producto?\")) return\r\n\r\n        const sessionRes = await supabase.auth.getSession()\r\n        const accessToken = sessionRes?.data?.session?.access_token\r\n        if (!accessToken) {\r\n            alert('Tu sesiÃ³n expirÃ³. Vuelve a iniciar sesiÃ³n.')\r\n            return\r\n        }\r\n\r\n        try {\r\n            await deleteAdminProductoViaApi({ accessToken, id })\r\n        } catch (err: any) {\r\n            alert(\"Error al eliminar: \" + String(err?.message || 'No se pudo eliminar'))\r\n            return\r\n        }\r\n\r\n        fetchProductos()\r\n    }\r\n\r\n    if (guard.accessDenied) return <AccessDenied />\r\n\r\n    if (guard.loading) {\r\n        return <div className=\"p-6 text-muted-foreground\">Cargando...</div>\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold text-gray-900\">Productos</h1>\r\n                    <p className=\"text-gray-500\">Administra el inventario de tu tienda.</p>\r\n                </div>\r\n\r\n                <Button asChild className=\"bg-black text-white gap-2 hover:bg-gray-800\">\r\n                    <Link href=\"/admin/productos/nuevo\">\r\n                        <Plus className=\"h-4 w-4\" /> Nuevo Producto\r\n                    </Link>\r\n                </Button>\r\n            </div>\r\n\r\n            <div className=\"flex gap-2 bg-white p-4 rounded-xl shadow-sm border\">\r\n                <div className=\"relative flex-1\">\r\n                    <Search className=\"absolute left-3 top-3 h-4 w-4 text-gray-400\" />\r\n                    <Input placeholder=\"Buscar produto...\" className=\"pl-9 border-gray-200\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-xl shadow-sm border overflow-hidden\">\r\n                <Table>\r\n                    <TableHeader className=\"bg-gray-50\">\r\n                        <TableRow>\r\n                            <TableHead className=\"w-[80px]\">Imagen</TableHead>\r\n                            <TableHead>Nombre</TableHead>\r\n                            <TableHead>Precio</TableHead>\r\n                            <TableHead>Stock</TableHead>\r\n                            <TableHead className=\"text-right\">Acciones</TableHead>\r\n                        </TableRow>\r\n                    </TableHeader>\r\n                    <TableBody>\r\n                        {loading ? (\r\n                            <TableRow>\r\n                                <TableCell colSpan={5} className=\"text-center py-10\">Cargando...</TableCell>\r\n                            </TableRow>\r\n                        ) : productos.length === 0 ? (\r\n                            <TableRow>\r\n                                <TableCell colSpan={5} className=\"text-center py-10\">No hay productos.</TableCell>\r\n                            </TableRow>\r\n                        ) : (\r\n                            productos.map((producto) => (\r\n                                <TableRow key={producto.id}>\r\n                                    <TableCell>\r\n                                        <div className=\"h-10 w-10 bg-gray-100 rounded-md overflow-hidden flex items-center justify-center\">\r\n                                            {producto.imagen_url ? (\r\n                                                <img src={producto.imagen_url} alt={producto.nombre} className=\"h-full w-full object-cover\" />\r\n                                            ) : (\r\n                                                <ImageIcon className=\"h-4 w-4 text-gray-400\" />\r\n                                            )}\r\n                                        </div>\r\n                                    </TableCell>\r\n                                    <TableCell className=\"font-medium\">{producto.nombre}</TableCell>\r\n                                    <TableCell>\r\n                                        <div className=\"flex items-baseline gap-2\">\r\n                                            <span className=\"font-semibold\">{formatCurrency(producto.precio)}</span>\r\n                                            {producto.precio_antes != null && Number(producto.precio_antes) > Number(producto.precio) && (\r\n                                                <span className=\"text-xs text-gray-500 line-through\">{formatCurrency(producto.precio_antes)}</span>\r\n                                            )}\r\n                                        </div>\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        <span className={`px-2 py-1 rounded-full text-xs font-bold ${producto.stock > 0 ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>\r\n                                            {producto.stock} un.\r\n                                        </span>\r\n                                    </TableCell>\r\n                                    <TableCell className=\"text-right space-x-2\">\r\n                                        <Button asChild variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 hover:bg-gray-100\">\r\n                                            <Link href={`/admin/productos/${producto.id}/editar`} aria-label=\"Editar\">\r\n                                                <Edit className=\"h-4 w-4 text-gray-600\" />\r\n                                            </Link>\r\n                                        </Button>\r\n                                        <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 hover:bg-red-50\" onClick={() => handleDelete(producto.id)}>\r\n                                            <Trash2 className=\"h-4 w-4 text-red-500\" />\r\n                                        </Button>\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))\r\n                        )}\r\n                    </TableBody>\r\n                </Table>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1347, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/search.js","sources":["file:///C:/Users/Martin/Desktop/PROYECTOS/Tienda-Blama-2026/node_modules/lucide-react/src/icons/search.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm21 21-4.34-4.34', key: '14j7rj' }],\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n];\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEgMjEtNC4zNC00LjM0IiAvPgogIDxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('search', __iconNode);\n\nexport default Search;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAoB,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACjD;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAU;YAAE,CAAA,CAAA,CAAA,CAAI,IAAA,CAAA;YAAM,CAAA,CAAA,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAG,CAAA,CAAA,CAAA;YAAK,CAAA,CAAA,CAAA,CAAA,CAAK,QAAA;QAAA,CAAU;KAAA;CAC1D;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,MAAA,CAAA,CAAA,KAAS,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,8JAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}},
    {"offset": {"line": 1394, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/square-pen.js","sources":["file:///C:/Users/Martin/Desktop/PROYECTOS/Tienda-Blama-2026/node_modules/lucide-react/src/icons/square-pen.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7', key: '1m0v6g' }],\n  [\n    'path',\n    {\n      d: 'M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z',\n      key: 'ohrbg2',\n    },\n  ],\n];\n\n/**\n * @component @name SquarePen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgM0g1YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0ydi03IiAvPgogIDxwYXRoIGQ9Ik0xOC4zNzUgMi42MjVhMSAxIDAgMCAxIDMgM2wtOS4wMTMgOS4wMTRhMiAyIDAgMCAxLS44NTMuNTA1bC0yLjg3My44NGEuNS41IDAgMCAxLS42Mi0uNjJsLjg0LTIuODczYTIgMiAwIDAgMSAuNTA2LS44NTJ6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/square-pen\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst SquarePen = createLucideIcon('square-pen', __iconNode);\n\nexport default SquarePen;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAA8D,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IAC3F;QACE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QACA;YACE,CAAA,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YACH,GAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA;KACP;CAEJ;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,SAAA,CAAA,CAAA,KAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,8JAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}}]
}