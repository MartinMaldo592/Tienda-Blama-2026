(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},46897,e=>{"use strict";let t=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...a,width:r,height:r,stroke:e,strokeWidth:i?24*Number(s)/Number(r):s,className:n("lucide",o),...!l&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(l)?l:[l]])),i=(e,a)=>{let i=(0,t.forwardRef)(({className:i,...o},l)=>(0,t.createElement)(s,{ref:l,iconNode:a,className:n(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...o}));return i.displayName=r(e),i};e.s(["default",()=>i],75254)},18566,(e,t,r)=>{t.exports=e.r(76562)},23750,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function n({className:e,type:n,...a}){return(0,t.jsx)("input",{type:n,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}e.s(["Input",()=>n])},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={assign:function(){return l},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return o}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});function s(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,i(e));else t.set(r,i(n));return t}function l(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,n]of r.entries())e.append(t,n)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={formatUrl:function(){return o},formatWithValidation:function(){return c},urlObjectKeys:function(){return l}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let s=e.r(90809)._(e.r(98183)),i=/https?|ftp|gopher|file/;function o(e){let{auth:t,hostname:r}=e,n=e.protocol||"",a=e.pathname||"",o=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(s.urlQueryToSearchParams(l)));let d=e.search||l&&`?${l}`||"";return n&&!n.endsWith(":")&&(n+=":"),e.slashes||(!n||i.test(n))&&!1!==c?(c="//"+(c||""),a&&"/"!==a[0]&&(a="/"+a)):c||(c=""),o&&"#"!==o[0]&&(o="#"+o),d&&"?"!==d[0]&&(d="?"+d),a=a.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${n}${c}${a}${d}${o}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return o(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return a}});let n=e.r(71645);function a(e,t){let r=(0,n.useRef)(null),a=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=s(e,n)),t&&(a.current=s(t,n))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return y},NormalizeError:function(){return b},PageNotFoundError:function(){return v},SP:function(){return h},ST:function(){return x},WEB_VITALS:function(){return s},execOnce:function(){return i},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return l},isResSent:function(){return f},loadGetInitialProps:function(){return p},normalizeRepeatedSlashes:function(){return m},stringifyError:function(){return w}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return(...n)=>(r||(r=!0,t=e(...n)),t)}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>o.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function m(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function p(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await p(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&f(r))return n;if(!n)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let h="undefined"!=typeof performance,x=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class b extends Error{}class v extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class y extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function w(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let n=e.r(18967),a=e.r(52817);function s(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,a.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={default:function(){return g},useLinkStatus:function(){return v}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let s=e.r(90809),i=e.r(43476),o=s._(e.r(71645)),l=e.r(95057),c=e.r(8372),d=e.r(18581),u=e.r(18967),f=e.r(5550);e.r(33525);let m=e.r(91949),p=e.r(73668),h=e.r(9396);function x(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function g(t){var r;let n,a,s,[l,g]=(0,o.useOptimistic)(m.IDLE_LINK_STATUS),v=(0,o.useRef)(null),{href:y,as:j,children:w,prefetch:N=null,passHref:C,replace:S,shallow:_,scroll:k,onClick:E,onMouseEnter:I,onTouchStart:O,legacyBehavior:P=!1,onNavigate:R,ref:M,unstable_dynamicOnHover:A,...T}=t;n=w,P&&("string"==typeof n||"number"==typeof n)&&(n=(0,i.jsx)("a",{children:n}));let L=o.default.useContext(c.AppRouterContext),D=!1!==N,F=!1!==N?null===(r=N)||"auto"===r?h.FetchStrategy.PPR:h.FetchStrategy.Full:h.FetchStrategy.PPR,{href:$,as:B}=o.default.useMemo(()=>{let e=x(y);return{href:e,as:j?x(j):e}},[y,j]);if(P){if(n?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});a=o.default.Children.only(n)}let z=P?a&&"object"==typeof a&&a.ref:M,U=o.default.useCallback(e=>(null!==L&&(v.current=(0,m.mountLinkInstance)(e,$,L,F,D,g)),()=>{v.current&&((0,m.unmountLinkForCurrentNavigation)(v.current),v.current=null),(0,m.unmountPrefetchableInstance)(e)}),[D,$,L,F,g]),q={ref:(0,d.useMergedRef)(U,z),onClick(t){P||"function"!=typeof E||E(t),P&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(t),!L||t.defaultPrevented||function(t,r,n,a,s,i,l){if("undefined"!=typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,p.isLocalURL)(r)){s&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(99781);o.default.startTransition(()=>{u(n||r,s?"replace":"push",i??!0,a.current)})}}(t,$,B,v,S,k,R)},onMouseEnter(e){P||"function"!=typeof I||I(e),P&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),L&&D&&(0,m.onNavigationIntent)(e.currentTarget,!0===A)},onTouchStart:function(e){P||"function"!=typeof O||O(e),P&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),L&&D&&(0,m.onNavigationIntent)(e.currentTarget,!0===A)}};return(0,u.isAbsoluteUrl)(B)?q.href=B:P&&!C&&("a"!==a.type||"href"in a.props)||(q.href=(0,f.addBasePath)(B)),s=P?o.default.cloneElement(a,q):(0,i.jsx)("a",{...T,...q,children:n}),(0,i.jsx)(b.Provider,{value:l,children:s})}e.r(84508);let b=(0,o.createContext)(m.IDLE_LINK_STATUS),v=()=>(0,o.useContext)(b);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},10708,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(74080);var n=e.i(91918),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let s=(0,n.createSlot)(`Primitive.${a}`),i=r.forwardRef((e,r)=>{let{asChild:n,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?s:a,{...i,ref:r})});return i.displayName=`Primitive.${a}`,{...e,[a]:i}},{}),s=r.forwardRef((e,r)=>(0,t.jsx)(a.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var i=e.i(47163);function o({className:e,...r}){return(0,t.jsx)(s,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}e.s(["Label",()=>o],10708)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},41947,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["default",()=>t])},37727,e=>{"use strict";var t=e.i(41947);e.s(["X",()=>t.default])},1928,e=>{"use strict";let t=(0,e.i(75254).default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);e.s(["ShoppingCart",()=>t],1928)},99023,e=>{"use strict";let t=(0,e.i(75254).default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["Minus",()=>t],99023)},49198,e=>{"use strict";let t=(0,e.i(68834).create)(e=>({cartButtonRef:null,animations:[],bumpTimestamp:0,registerCartButton:t=>e({cartButtonRef:t}),startAnimation:(t,r)=>{let n=Math.random().toString(36).substring(7);e(e=>({animations:[...e.animations,{id:n,src:t,startRect:r}]}))},removeAnimation:t=>e(e=>({animations:e.animations.filter(e=>e.id!==t)})),triggerBump:()=>e({bumpTimestamp:Date.now()}),isCartOpen:!1,setCartOpen:t=>e({isCartOpen:t})}));e.s(["useCartAnimationStore",0,t])},68834,e=>{"use strict";var t=e.i(71645);let r=e=>{let t,r=new Set,n=(e,n)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=n?n:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,s={setState:n,getState:a,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(n,a,s);return s},n=e=>{let n=e?r(e):r,a=e=>(function(e,r=e=>e){let n=t.default.useSyncExternalStore(e.subscribe,t.default.useCallback(()=>r(e.getState()),[e,r]),t.default.useCallback(()=>r(e.getInitialState()),[e,r]));return t.default.useDebugValue(n),n})(n,e);return Object.assign(a,n),a},a=e=>e?n(e):n;e.s(["create",()=>a],68834)},3126,e=>{"use strict";e.s([])},10040,3538,e=>{"use strict";let t,r;e.i(3126);var n=e.i(68834);let a=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>a(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>a(t)(e)}}},s=(0,n.create)()((t=(e,t)=>({items:[],total:0,addItem:(t,r)=>{e(e=>{let n=e.items,a=r?.id??null,s=n.find(e=>e.id===t.id&&(e.producto_variante_id??null)===a),i=Number(r?.precio??t.precio),o=r?.precio_antes??t.precio_antes??null,l=r?.etiqueta??null,c=s?n.map(e=>e.id===t.id&&(e.producto_variante_id??null)===a?{...e,quantity:e.quantity+1}:e):[...n,{...t,precio:i,precio_antes:o,producto_variante_id:a,variante_nombre:l,quantity:1}],d=c.reduce((e,t)=>e+t.precio*t.quantity,0);return{items:c,total:d}})},removeItem:(t,r)=>{let n=r??null;e(e=>{let r=e.items.filter(e=>e.id!==t||(e.producto_variante_id??null)!==n),a=r.reduce((e,t)=>e+t.precio*t.quantity,0);return{items:r,total:a}})},updateQuantity:(r,n,a)=>{let s=a??null;n<=0?t().removeItem(r,s):e(e=>{let t=e.items.map(e=>e.id===r&&(e.producto_variante_id??null)===s?{...e,quantity:n}:e),a=t.reduce((e,t)=>e+t.precio*t.quantity,0);return{items:t,total:a}})},clearCart:()=>e({items:[],total:0})}),r={name:"cart-storage"},(e,n,s)=>{let i,o={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let n=e=>null===e?null:JSON.parse(e,void 0),a=null!=(t=r.getItem(e))?t:null;return a instanceof Promise?a.then(n):n(a)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...r},l=!1,c=new Set,d=new Set,u=o.storage;if(!u)return t((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),e(...t)},n,s);let f=()=>{let e=o.partialize({...n()});return u.setItem(o.name,{state:e,version:o.version})},m=s.setState;s.setState=(e,t)=>(m(e,t),f());let p=t((...t)=>(e(...t),f()),n,s);s.getInitialState=()=>p;let h=()=>{var t,r;if(!u)return;l=!1,c.forEach(e=>{var t;return e(null!=(t=n())?t:p)});let s=(null==(r=o.onRehydrateStorage)?void 0:r.call(o,null!=(t=n())?t:p))||void 0;return a(u.getItem.bind(u))(o.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];else{if(o.migrate){let t=o.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(t=>{var r;let[a,s]=t;if(e(i=o.merge(s,null!=(r=n())?r:p),!0),a)return f()}).then(()=>{null==s||s(i,void 0),i=n(),l=!0,d.forEach(e=>e(i))}).catch(e=>{null==s||s(void 0,e)})};return s.persist={setOptions:e=>{o={...o,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>h(),hasHydrated:()=>l,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},o.skipHydration||h(),i||p}));e.s(["useCartStore",0,s],3538),e.s([],10040)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},73708,e=>{"use strict";let t=(0,e.i(75254).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["Image",()=>t],73708)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},55488,e=>{"use strict";var t=e.i(43476),r=e.i(71645);function n({messages:e,intervalMs:n=3e3,className:a}){let s=(0,r.useMemo)(()=>["ðŸ“¦ðŸšš EnvÃ­o GRATIS para todos los pedidos","âš¡ðŸ·ï¸ Descuentos en productos destacados","â±ï¸ðŸ“ Entrega rÃ¡pida + contraentrega en 24 horas (solo Lima Metropolitana)"],[]),i=e&&e.length>0?e:s,[o,l]=(0,r.useState)(0),c=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{if(i.length<=1)return;let e=window.setInterval(()=>{c.current||l(e=>(e+1)%i.length)},n);return()=>window.clearInterval(e)},[n,i.length]),(0,t.jsx)("div",{className:"w-full h-10 sm:h-9 bg-blue-600 text-white flex items-center justify-center px-4 border-b border-blue-700 "+(a||""),onMouseEnter:()=>{c.current=!0},onMouseLeave:()=>{c.current=!1},role:"status","aria-live":"polite",children:(0,t.jsx)("div",{className:"flex items-center justify-center text-center text-[12px] sm:text-[13px] tracking-wide uppercase font-extrabold animate-pulse",children:(0,t.jsx)("span",{className:"animate-in fade-in duration-300 text-center",children:i[o]},o)})})}e.s(["AnnouncementBar",()=>n])},37560,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(34382),a=e.i(15640),s=e.i(67881),i=e.i(23750),o=e.i(10708),l=e.i(71689),c=e.i(31278),d=e.i(46897),u=e.i(47163);e.i(83769);var f=e.i(53492),m=e.i(3822),p=e.i(78743),h=e.i(63359);let x=["places"];function g({items:e,total:r,onBack:a,onComplete:s}){let{isLoaded:i}=(0,n.useLoadScript)({googleMapsApiKey:"AIzaSyDXKR5IfCmDBbWWSqggb-ODoc7gTWKb1-o",libraries:x});return i?(0,t.jsx)(b,{items:e,total:r,onBack:a,onComplete:s}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-48 space-y-4",children:[(0,t.jsx)(c.Loader2,{className:"h-8 w-8 animate-spin text-primary"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Cargando mapa..."})]})}function b({items:e,total:n,onBack:x,onComplete:g}){let[b,v]=(0,r.useState)(""),[y,j]=(0,r.useState)("lima"),[w,N]=(0,r.useState)(""),[C,S]=(0,r.useState)(""),[_,k]=(0,r.useState)(""),[E,I]=(0,r.useState)(""),[O,P]=(0,r.useState)(""),[R,M]=(0,r.useState)(""),[A,T]=(0,r.useState)(!1),[L,D]=(0,r.useState)(!1),[F,$]=(0,r.useState)(null),[B,z]=(0,r.useState)(""),[U,q]=(0,r.useState)(0),[V,W]=(0,r.useState)(!1),[H,K]=(0,r.useState)(""),[J,Q]=(0,r.useState)(!1),{ready:G,value:X,setValue:Z,suggestions:{status:Y,data:ee},clearSuggestions:et}=(0,a.default)({requestOptions:{componentRestrictions:{country:"pe"}}}),er=async e=>{Z(e,!1),et();try{let t=await (0,a.getGeocode)({address:e}),{lat:r,lng:n}=await (0,a.getLatLng)(t[0]);M(`https://www.google.com/maps/?q=${r},${n}`)}catch(e){console.error("Error: ",e)}},en=Number(n)||0,ea=Math.max(0,Math.min(en,Number(U)||0)),es=Math.max(0,Math.round((en-ea)*100)/100),ei=async()=>{K(""),W(!0),Q(!1);try{let e=await (0,p.validateCoupon)(B,en);q(e.descuento),Q(e.descuento>0)}catch(e){q(0),Q(!1),K(e?.message||"No se pudo aplicar el cupÃ³n")}finally{W(!1)}},eo=async t=>{if(t.preventDefault(),T(!0),K(""),I(""),9!==w.replace(/\D/g,"").length){S("El celular debe tener 9 dÃ­gitos"),T(!1);return}let r=(0,f.normalizeDni)(_);if(8!==r.length){I("El DNI debe tener 8 dÃ­gitos"),T(!1);return}let n=null,a=ea;if(B.trim())try{let e=await (0,p.validateCoupon)(B,en);n=e.codigo,a=e.descuento}catch(e){K(e?.message||"CupÃ³n invÃ¡lido"),T(!1);return}let s=Math.max(0,Math.min(en,Number(a)||0)),i=Math.max(0,Math.round((en-s)*100)/100),o=(Array.isArray(e)?e:[]).map(e=>({id:Number(e?.id??0),quantity:Number(e?.quantity??0),precio:Number(e?.precio??0),nombre:String(e?.nombre??""),producto_variante_id:e?.producto_variante_id??null,variante_nombre:e?.variante_nombre??null})),l=(0,f.buildWhatsAppPreviewMessage)({name:b||"Cliente",dni:r,phone:w,address:X||"",reference:O,locationLink:R,items:o,subtotal:en,discount:s,total:i,couponCode:n,shippingMethod:y}),c=(0,h.isInAppBrowser)(),d=(0,h.isMobileDevice)(),u=null;if(!c&&d){let e=(0,f.buildPreOpenUrl)("+51958279604",l);if(u=window.open(e,"_blank","noopener,noreferrer"))try{u.opener=null}catch(e){}}try{let e=(0,f.normalizeDigits)(w),{orderId:t}=await (0,m.createCheckoutOrder)({name:b,phone:e,dni:r,address:X,reference:O,locationLink:R,couponCode:n,discountAmount:s,shippingMethod:y,items:o.map(e=>({id:e.id,quantity:e.quantity,precio:e.precio,nombre:e.nombre,producto_variante_id:e.producto_variante_id??null,variante_nombre:e.variante_nombre??null}))}),a=t.toString().padStart(6,"0"),l=(0,f.buildWhatsAppFinalMessage)({orderIdFormatted:a,name:b,dni:r,phone:w,address:X,reference:O,locationLink:R,items:o,subtotal:en,discount:s,total:i,couponCode:n,shippingMethod:y}),p=(0,f.buildWhatsAppUrl)("+51958279604",l);(0,f.setLastOrderSuccessMarker)(a),(0,f.clearCartStorage)(),g();try{c||!d?window.location.href=p:u&&!u.closed?u.location.href=p:window.open(p,"_blank")||($(p),D(!0))}catch(e){$(p),D(!0)}}catch(t){console.error("Error al procesar:",t);let e=String(t?.message||"");(0,p.isCouponRelatedError)(e)?(q(0),Q(!1),K(`El cup\xf3n ya no est\xe1 disponible o no es v\xe1lido en este momento. Vuelve a intentar aplicar el cup\xf3n o usa otro.

Detalle: ${e}`)):alert("Error al procesar el pedido: "+e)}finally{T(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("form",{onSubmit:eo,className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"p-4 border-b flex items-center gap-2 bg-popover",children:[(0,t.jsx)(s.Button,{type:"button",variant:"ghost",size:"icon",onClick:x,disabled:A,className:"h-8 w-8 hover:bg-popover/80",children:(0,t.jsx)(l.ArrowLeft,{className:"h-4 w-4"})}),(0,t.jsx)("h3",{className:"font-semibold text-foreground",children:"Datos de EnvÃ­o"})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(o.Label,{className:"text-base",children:["MÃ©todo de enviÃ³ gratuito ",(0,t.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 pl-1",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"shipping",value:"lima",checked:"lima"===y,onChange:e=>j(e.target.value),className:"accent-black h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Lima"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"shipping",value:"provincia",checked:"provincia"===y,onChange:e=>j(e.target.value),className:"accent-black h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Provincia"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"name",children:"Nombre Completo"}),(0,t.jsx)(i.Input,{id:"name",required:!0,placeholder:"Juan PÃ©rez",value:b,onChange:e=>v(e.target.value),disabled:A})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"phone",children:"Celular"}),(0,t.jsx)(i.Input,{id:"phone",required:!0,type:"tel",inputMode:"numeric",pattern:"[0-9]{9}",minLength:9,maxLength:9,placeholder:"999 999 999",value:w,onChange:e=>{N(e.target.value.replace(/\D/g,"").slice(0,9)),C&&S("")},disabled:A,onInvalid:e=>{e.currentTarget.setCustomValidity("Ingresa un nÃºmero de celular vÃ¡lido de 9 dÃ­gitos")},onInput:e=>{e.currentTarget.setCustomValidity("")}}),C&&(0,t.jsx)("p",{className:"text-xs text-destructive",children:C})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"dni",children:"DNI"}),(0,t.jsx)(i.Input,{id:"dni",required:!0,inputMode:"numeric",pattern:"[0-9]{8}",minLength:8,maxLength:8,placeholder:"12345678",value:_,onChange:e=>{k(e.target.value.replace(/\D/g,"").slice(0,8)),E&&I("")},onInvalid:e=>{e.currentTarget.setCustomValidity("Ingresa un DNI vÃ¡lido de 8 dÃ­gitos")},onInput:e=>{e.currentTarget.setCustomValidity("")},disabled:A}),E&&(0,t.jsx)("p",{className:"text-xs text-destructive",children:E})]}),(0,t.jsxs)("div",{className:"space-y-2 relative",children:[(0,t.jsx)(o.Label,{htmlFor:"address",children:"DirecciÃ³n (Google Maps)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.MapPin,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(i.Input,{id:"address",value:X,onChange:e=>Z(e.target.value),disabled:!G||A,placeholder:"Escribe tu direcciÃ³n...",className:"pl-9",autoComplete:"off"})]}),"OK"===Y&&(0,t.jsx)("ul",{className:"absolute z-10 w-full bg-card border border-border rounded-md shadow-lg mt-1 max-h-60 overflow-auto",children:ee.map(({place_id:e,description:r})=>(0,t.jsx)("li",{onClick:()=>er(r),className:"px-4 py-2 hover:bg-popover cursor-pointer text-sm text-muted-foreground",children:r},e))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"reference",children:"Referencia (Opcional)"}),(0,t.jsx)(i.Input,{id:"reference",placeholder:"Frente al parque, casa azul...",value:O,onChange:e=>P(e.target.value),disabled:A})]}),!1]}),(0,t.jsxs)("div",{className:"p-4 border-t mt-auto bg-popover",children:[(0,t.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"coupon",children:"CupÃ³n de descuento (Opcional)"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Input,{id:"coupon",placeholder:"Ej: PROMO10",value:B,onChange:e=>{z(e.target.value),Q(!1),K("")},disabled:A}),(0,t.jsx)(s.Button,{type:"button",variant:"outline",onClick:ei,disabled:A||V,children:V?(0,t.jsx)(c.Loader2,{className:"h-4 w-4 animate-spin"}):"Aplicar"})]}),H&&(0,t.jsx)("p",{className:"text-xs text-destructive",children:H}),J&&!H&&(0,t.jsx)("p",{className:"text-xs text-green-600",children:"CupÃ³n aplicado"})]}),(0,t.jsxs)("div",{className:"text-sm font-medium space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{children:"Subtotal:"}),(0,t.jsx)("span",{children:(0,u.formatCurrency)(en)})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{children:"Descuento:"}),(0,t.jsxs)("span",{children:["-",(0,u.formatCurrency)(ea)]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{children:"Total a Pagar:"}),(0,t.jsx)("span",{className:"text-lg font-bold",children:(0,u.formatCurrency)(es)})]})]})]}),(0,t.jsx)(s.Button,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 h-12 text-base font-bold",disabled:A,children:A?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Loader2,{className:"mr-2 h-4 w-4 animate-spin"})," Procesando..."]}):"Confirmar Pedido en WhatsApp"})]})]}),L&&F&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-xl bg-card border border-border rounded-lg shadow-lg p-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Abrir WhatsApp"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Pulsa el botÃ³n para abrir tu pedido en WhatsApp."}),(0,t.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,t.jsx)("a",{href:F,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md",children:"Abrir WhatsApp"}),(0,t.jsx)("button",{onClick:()=>{D(!1),$(null)},className:"px-4 py-2 border border-border rounded-md",children:"Cerrar"})]})]})})]})}e.s(["CheckoutForm",()=>g])},26999,e=>{"use strict";let t,r,n;var a=e.i(71645),s=e.i(81140),i=e.i(20783),o=e.i(30030),l=e.i(10772),c=e.i(69340),d=e.i(26330),u=e.i(65491),f=e.i(74606),m=e.i(34620),p=e=>{var t;let r,n,{present:s,children:o}=e,l=function(e){var t,r;let[n,s]=a.useState(),i=a.useRef(null),o=a.useRef(e),l=a.useRef("none"),[c,d]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,t)=>r[e][t]??e,t));return a.useEffect(()=>{let e=h(i.current);l.current="mounted"===c?e:"none"},[c]),(0,m.useLayoutEffect)(()=>{let t=i.current,r=o.current;if(r!==e){let n=l.current,a=h(t);e?d("MOUNT"):"none"===a||t?.display==="none"?d("UNMOUNT"):r&&n!==a?d("ANIMATION_OUT"):d("UNMOUNT"),o.current=e}},[e,d]),(0,m.useLayoutEffect)(()=>{if(n){let e,t=n.ownerDocument.defaultView??window,r=r=>{let a=h(i.current).includes(CSS.escape(r.animationName));if(r.target===n&&a&&(d("ANIMATION_END"),!o.current)){let r=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=r)})}},a=e=>{e.target===n&&(l.current=h(i.current))};return n.addEventListener("animationstart",a),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",a),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}d("ANIMATION_END")},[n,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:a.useCallback(e=>{i.current=e?getComputedStyle(e):null,s(e)},[])}}(s),c="function"==typeof o?o({present:l.isPresent}):a.Children.only(o),d=(0,i.useComposedRefs)(l.ref,(t=c,(n=(r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.ref:(n=(r=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof o||l.isPresent?a.cloneElement(c,{ref:d}):null};function h(e){return e?.animationName||"none"}p.displayName="Presence";var x=e.i(48425),g=e.i(3536),b=e.i(85369),v=e.i(86312),y=e.i(43476),j=Symbol("radix.slottable");function w(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===j}var N="Dialog",[C,S]=(0,o.createContextScope)(N),[_,k]=C(N),E=e=>{let{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,d=a.useRef(null),u=a.useRef(null),[f,m]=(0,c.useControllableState)({prop:n,defaultProp:s??!1,onChange:i,caller:N});return(0,y.jsx)(_,{scope:t,triggerRef:d,contentRef:u,contentId:(0,l.useId)(),titleId:(0,l.useId)(),descriptionId:(0,l.useId)(),open:f,onOpenChange:m,onOpenToggle:a.useCallback(()=>m(e=>!e),[m]),modal:o,children:r})};E.displayName=N;var I="DialogTrigger",O=a.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=k(I,r),o=(0,i.useComposedRefs)(t,a.triggerRef);return(0,y.jsx)(x.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":G(a.open),...n,ref:o,onClick:(0,s.composeEventHandlers)(e.onClick,a.onOpenToggle)})});O.displayName=I;var P="DialogPortal",[R,M]=C(P,{forceMount:void 0}),A=e=>{let{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=k(P,t);return(0,y.jsx)(R,{scope:t,forceMount:r,children:a.Children.map(n,e=>(0,y.jsx)(p,{present:r||i.open,children:(0,y.jsx)(f.Portal,{asChild:!0,container:s,children:e})}))})};A.displayName=P;var T="DialogOverlay",L=a.forwardRef((e,t)=>{let r=M(T,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=k(T,e.__scopeDialog);return s.modal?(0,y.jsx)(p,{present:n||s.open,children:(0,y.jsx)(F,{...a,ref:t})}):null});L.displayName=T;var D=((n=a.forwardRef((e,t)=>{let{children:r,...n}=e;if(a.isValidElement(r)){var s;let e,o,l=(s=r,(o=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(o=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),c=function(e,t){let r={...t};for(let n in t){let a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...e)=>{let t=s(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...s}:"className"===n&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==a.Fragment&&(c.ref=t?(0,i.composeRefs)(t,l):l),a.cloneElement(r,c)}return a.Children.count(r)>1?a.Children.only(null):null})).displayName="DialogOverlay.RemoveScroll.SlotClone",t=n,(r=a.forwardRef((e,r)=>{let{children:n,...s}=e,i=a.Children.toArray(n),o=i.find(w);if(o){let e=o.props.children,n=i.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,y.jsx)(t,{...s,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,y.jsx)(t,{...s,ref:r,children:n})})).displayName="DialogOverlay.RemoveScroll.Slot",r),F=a.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=k(T,r);return(0,y.jsx)(b.RemoveScroll,{as:D,allowPinchZoom:!0,shards:[a.contentRef],children:(0,y.jsx)(x.Primitive.div,{"data-state":G(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),$="DialogContent",B=a.forwardRef((e,t)=>{let r=M($,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=k($,e.__scopeDialog);return(0,y.jsx)(p,{present:n||s.open,children:s.modal?(0,y.jsx)(z,{...a,ref:t}):(0,y.jsx)(U,{...a,ref:t})})});B.displayName=$;var z=a.forwardRef((e,t)=>{let r=k($,e.__scopeDialog),n=a.useRef(null),o=(0,i.useComposedRefs)(t,r.contentRef,n);return a.useEffect(()=>{let e=n.current;if(e)return(0,v.hideOthers)(e)},[]),(0,y.jsx)(q,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,s.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,s.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,s.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),U=a.forwardRef((e,t)=>{let r=k($,e.__scopeDialog),n=a.useRef(!1),s=a.useRef(!1);return(0,y.jsx)(q,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));let a=t.target;r.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),q=a.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=e,c=k($,r),f=a.useRef(null),m=(0,i.useComposedRefs)(t,f);return(0,g.useFocusGuards)(),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(u.FocusScope,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:(0,y.jsx)(d.DismissableLayer,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":G(c.open),...l,ref:m,onDismiss:()=>c.onOpenChange(!1)})}),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(ee,{titleId:c.titleId}),(0,y.jsx)(et,{contentRef:f,descriptionId:c.descriptionId})]})]})}),V="DialogTitle",W=a.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=k(V,r);return(0,y.jsx)(x.Primitive.h2,{id:a.titleId,...n,ref:t})});W.displayName=V;var H="DialogDescription",K=a.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=k(H,r);return(0,y.jsx)(x.Primitive.p,{id:a.descriptionId,...n,ref:t})});K.displayName=H;var J="DialogClose",Q=a.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=k(J,r);return(0,y.jsx)(x.Primitive.button,{type:"button",...n,ref:t,onClick:(0,s.composeEventHandlers)(e.onClick,()=>a.onOpenChange(!1))})});function G(e){return e?"open":"closed"}Q.displayName=J;var X="DialogTitleWarning",[Z,Y]=(0,o.createContext)(X,{contentName:$,titleName:V,docsSlug:"dialog"}),ee=({titleId:e})=>{let t=Y(X),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},et=({contentRef:e,descriptionId:t})=>{let r=Y("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return a.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null};e.s(["Close",()=>Q,"Content",()=>B,"Description",()=>K,"Overlay",()=>L,"Portal",()=>A,"Root",()=>E,"Title",()=>W,"Trigger",()=>O],26999)},52917,e=>{"use strict";var t=e.i(43476),r=e.i(26999),n=e.i(41947),n=n,a=e.i(47163);function s({...e}){return(0,t.jsx)(r.Root,{"data-slot":"sheet",...e})}function i({...e}){return(0,t.jsx)(r.Trigger,{"data-slot":"sheet-trigger",...e})}function o({...e}){return(0,t.jsx)(r.Close,{"data-slot":"sheet-close",...e})}function l({...e}){return(0,t.jsx)(r.Portal,{"data-slot":"sheet-portal",...e})}function c({className:e,...n}){return(0,t.jsx)(r.Overlay,{"data-slot":"sheet-overlay",className:(0,a.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...n})}function d({className:e,children:s,side:i="right",...o}){return(0,t.jsxs)(l,{children:[(0,t.jsx)(c,{}),(0,t.jsxs)(r.Content,{"data-slot":"sheet-content",className:(0,a.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===i&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===i&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===i&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===i&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...o,children:[s,(0,t.jsxs)(r.Close,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,t.jsx)(n.default,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"sheet-header",className:(0,a.cn)("flex flex-col gap-1.5 p-4",e),...r})}function f({className:e,...n}){return(0,t.jsx)(r.Title,{"data-slot":"sheet-title",className:(0,a.cn)("text-foreground font-semibold",e),...n})}e.s(["Sheet",()=>s,"SheetClose",()=>o,"SheetContent",()=>d,"SheetHeader",()=>u,"SheetTitle",()=>f,"SheetTrigger",()=>i],52917)},8341,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={cancelIdleCallback:function(){return i},requestIdleCallback:function(){return s}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let s="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},i="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},79520,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={default:function(){return v},handleClientScriptLoad:function(){return x},initScriptLoader:function(){return g}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let s=e.r(55682),i=e.r(90809),o=e.r(43476),l=s._(e.r(74080)),c=i._(e.r(71645)),d=e.r(42732),u=e.r(22737),f=e.r(8341),m=new Map,p=new Set,h=e=>{let{src:t,id:r,onLoad:n=()=>{},onReady:a=null,dangerouslySetInnerHTML:s,children:i="",strategy:o="afterInteractive",onError:c,stylesheets:d}=e,f=r||t;if(f&&p.has(f))return;if(m.has(t)){p.add(f),m.get(t).then(n,c);return}let h=()=>{a&&a(),p.add(f)},x=document.createElement("script"),g=new Promise((e,t)=>{x.addEventListener("load",function(t){e(),n&&n.call(this,t),h()}),x.addEventListener("error",function(e){t(e)})}).catch(function(e){c&&c(e)});s?(x.innerHTML=s.__html||"",h()):i?(x.textContent="string"==typeof i?i:Array.isArray(i)?i.join(""):"",h()):t&&(x.src=t,m.set(t,g)),(0,u.setAttributesFromProps)(x,e),"worker"===o&&x.setAttribute("type","text/partytown"),x.setAttribute("data-nscript",o),d&&(e=>{if(l.default.preinit)return e.forEach(e=>{l.default.preinit(e,{as:"style"})});if("undefined"!=typeof window){let t=document.head;e.forEach(e=>{let r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,t.appendChild(r)})}})(d),document.body.appendChild(x)};function x(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,f.requestIdleCallback)(()=>h(e))}):h(e)}function g(e){e.forEach(x),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");p.add(t)})}function b(e){let{id:t,src:r="",onLoad:n=()=>{},onReady:a=null,strategy:s="afterInteractive",onError:i,stylesheets:u,...m}=e,{updateScripts:x,scripts:g,getIsSsr:b,appDir:v,nonce:y}=(0,c.useContext)(d.HeadManagerContext);y=m.nonce||y;let j=(0,c.useRef)(!1);(0,c.useEffect)(()=>{let e=t||r;j.current||(a&&e&&p.has(e)&&a(),j.current=!0)},[a,t,r]);let w=(0,c.useRef)(!1);if((0,c.useEffect)(()=>{if(!w.current){if("afterInteractive"===s)h(e);else"lazyOnload"===s&&("complete"===document.readyState?(0,f.requestIdleCallback)(()=>h(e)):window.addEventListener("load",()=>{(0,f.requestIdleCallback)(()=>h(e))}));w.current=!0}},[e,s]),("beforeInteractive"===s||"worker"===s)&&(x?(g[s]=(g[s]||[]).concat([{id:t,src:r,onLoad:n,onReady:a,onError:i,...m,nonce:y}]),x(g)):b&&b()?p.add(t||r):b&&!b()&&h({...e,nonce:y})),v){if(u&&u.forEach(e=>{l.default.preinit(e,{as:"style"})}),"beforeInteractive"===s)if(!r)return m.dangerouslySetInnerHTML&&(m.children=m.dangerouslySetInnerHTML.__html,delete m.dangerouslySetInnerHTML),(0,o.jsx)("script",{nonce:y,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([0,{...m,id:t}])})`}});else return l.default.preload(r,m.integrity?{as:"script",integrity:m.integrity,nonce:y,crossOrigin:m.crossOrigin}:{as:"script",nonce:y,crossOrigin:m.crossOrigin}),(0,o.jsx)("script",{nonce:y,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([r,{...m,id:t}])})`}});"afterInteractive"===s&&r&&l.default.preload(r,m.integrity?{as:"script",integrity:m.integrity,nonce:y,crossOrigin:m.crossOrigin}:{as:"script",nonce:y,crossOrigin:m.crossOrigin})}return null}Object.defineProperty(b,"__nextScript",{value:!0});let v=b;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},57215,e=>{"use strict";var t=e.i(47167),r=e.i(71645),n=e.i(18566);function a(){return false}function s(e){return RegExp(`/${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(?=[/?#]|$)`)}function i(e){(0,r.useEffect)(()=>{var t;e.beforeSend&&(null==(t=window.si)||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]);let n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(n.current)e.route&&n.current(e.route);else{let r=function(e={}){var t;if("undefined"==typeof window||null===e.route)return null;window.si||(window.si=function(...e){(window.siq=window.siq||[]).push(e)});let r=e.scriptSrc?e.scriptSrc:a()?"https://va.vercel-scripts.com/v1/speed-insights/script.debug.js":e.dsn?"https://va.vercel-scripts.com/v1/speed-insights/script.js":e.basePath?`${e.basePath}/speed-insights/script.js`:"/_vercel/speed-insights/script.js";if(document.head.querySelector(`script[src*="${r}"]`))return null;e.beforeSend&&(null==(t=window.si)||t.call(window,"beforeSend",e.beforeSend));let n=document.createElement("script");return n.src=r,n.defer=!0,n.dataset.sdkn="@vercel/speed-insights"+(e.framework?`/${e.framework}`:""),n.dataset.sdkv="1.3.1",e.sampleRate&&(n.dataset.sampleRate=e.sampleRate.toString()),e.route&&(n.dataset.route=e.route),e.endpoint?n.dataset.endpoint=e.endpoint:e.basePath&&(n.dataset.endpoint=`${e.basePath}/speed-insights/vitals`),e.dsn&&(n.dataset.dsn=e.dsn),a()&&!1===e.debug&&(n.dataset.debug="false"),n.onerror=()=>{console.log(`[Vercel Speed Insights] Failed to load script from ${r}. Please check if any content blockers are enabled and try again.`)},document.head.appendChild(n),{setRoute:e=>{n.dataset.route=e??void 0}}}({framework:e.framework??"react",basePath:e.basePath??function(){if(void 0!==t.default&&void 0!==t.default.env)return t.default.env.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}(),...e});r&&(n.current=r.setRoute)}},[e.route]),null}function o(e){let a=(()=>{let e=(0,n.useParams)(),t=(0,n.useSearchParams)()||new URLSearchParams,r=(0,n.usePathname)();if(!e)return null;let a=Object.keys(e).length?e:Object.fromEntries(t.entries());if(!r||!a)return r;let i=r;try{let e=Object.entries(a);for(let[t,r]of e)if(!Array.isArray(r)){let e=s(r);e.test(i)&&(i=i.replace(e,`/[${t}]`))}for(let[t,r]of e)if(Array.isArray(r)){let e=s(r.join("/"));e.test(i)&&(i=i.replace(e,`/[...${t}]`))}return i}catch(e){return r}})();return r.default.createElement(i,{route:a,...e,framework:"next",basePath:function(){if(void 0!==t.default&&void 0!==t.default.env)return t.default.env.NEXT_PUBLIC_VERCEL_OBSERVABILITY_BASEPATH}()})}function l(e){return r.default.createElement(r.Suspense,{fallback:null},r.default.createElement(o,{...e}))}e.s(["SpeedInsights",()=>l])},97606,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(71645),n=e.i(18566),a=e.i(22016),s=e.i(49198),i=e.i(67881),o=e.i(1928),l=e.i(27612),c=e.i(7233),d=e.i(99023),u=e.i(73708),f=e.i(69638);e.i(10040);var m=e.i(3538),p=e.i(37560),h=e.i(47163),x=e.i(52917);function g(){let[e,n]=(0,r.useState)(!1),[a,g]=(0,r.useState)("cart"),[b,v]=(0,r.useState)(!1),[y,j]=(0,r.useState)(null),w=(0,s.useCartAnimationStore)(e=>e.registerCartButton),N=(0,s.useCartAnimationStore)(e=>e.bumpTimestamp),[C,S]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!N)return;S(!0);let e=setTimeout(()=>S(!1),300);return()=>clearTimeout(e)},[N]);let _=(0,m.useCartStore)(e=>e.items),k=(0,m.useCartStore)(e=>e.removeItem),E=(0,m.useCartStore)(e=>e.updateQuantity),I=(0,m.useCartStore)(e=>e.clearCart),O=(0,m.useCartStore)(e=>e.total);(0,r.useEffect)(()=>{n(!0);let e=e=>{try{let t="https:"===window.location.protocol;document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax${t?"; Secure":""}`}catch(e){}},t=()=>{try{let t=localStorage.getItem("blama_last_order_success"),r=t?null:(e=>{try{let t=`; ${document.cookie}`.split(`; ${e}=`);if(t.length<2)return null;return t.pop().split(";").shift()||null}catch(e){return null}})("blama_last_order_success"),n=t??(r?decodeURIComponent(r):null);if(!n)return;let a=JSON.parse(n),s=a?.orderId?String(a.orderId):null,i=Number(a?.ts||0);if(!(i>0&&Date.now()-i<18e5)){localStorage.removeItem("blama_last_order_success"),e("blama_last_order_success");return}I();try{localStorage.removeItem("cart-storage")}catch(e){}g("success"),j(s),v(!0),localStorage.removeItem("blama_last_order_success"),e("blama_last_order_success")}catch(e){}};t();let r=()=>t(),a=()=>t(),s=()=>{"visible"===document.visibilityState&&t()};return window.addEventListener("pageshow",r),window.addEventListener("focus",a),document.addEventListener("visibilitychange",s),()=>{window.removeEventListener("pageshow",r),window.removeEventListener("focus",a),document.removeEventListener("visibilitychange",s)}},[]),(0,r.useEffect)(()=>{if(!b)return;let e=window.setTimeout(()=>{v(!1)},6500);return()=>window.clearTimeout(e)},[b]);let P=e?_.reduce((e,t)=>e+t.quantity,0):0,R=(0,s.useCartAnimationStore)(e=>e.isCartOpen),M=(0,s.useCartAnimationStore)(e=>e.setCartOpen);return(0,t.jsxs)(t.Fragment,{children:[b&&(0,t.jsx)("div",{className:"fixed inset-x-0 bottom-4 z-50 flex justify-center px-4",children:(0,t.jsx)("div",{className:"w-full max-w-md rounded-xl border border-border bg-card shadow-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center text-green-700",children:(0,t.jsx)(f.CheckCircle,{className:"h-6 w-6"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-semibold text-foreground",children:"Â¡Pedido confirmado!"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:y?`Pedido #${y}`:"Tu pedido se registrÃ³ correctamente."})]}),(0,t.jsx)(i.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>v(!1),children:"âœ•"})]})})}),(0,t.jsxs)(x.Sheet,{open:R,onOpenChange:e=>{M(e),e||setTimeout(()=>g("cart"),300)},children:[(0,t.jsx)(x.SheetTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{variant:"ghost",className:`relative hover:bg-popover flex items-center gap-2 px-3 h-10 rounded-full border border-border shadow-sm transition-all hover:shadow-md active:scale-95 ${C?"scale-110 bg-accent text-accent-foreground ring-2 ring-primary duration-100":"duration-300"}`,children:[(0,t.jsxs)("div",{className:"relative",ref:e=>w(e),children:[(0,t.jsx)(o.ShoppingCart,{className:"h-5 w-5"}),P>0&&(0,t.jsx)("span",{className:"absolute -top-2 -right-2 h-4 w-4 bg-red-600 rounded-full text-[10px] font-bold text-white flex items-center justify-center animate-in zoom-in ring-2 ring-ring",children:P})]}),(0,t.jsx)("span",{className:"font-bold text-sm text-foreground mr-1",children:"Carrito"})]})}),(0,t.jsxs)(x.SheetContent,{side:"right",className:"w-[90%] sm:max-w-[400px] flex flex-col p-0",children:[(0,t.jsx)(x.SheetHeader,{className:"sr-only",children:(0,t.jsx)(x.SheetTitle,{children:"Carrito"})}),"success"===a&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full space-y-6 text-center animate-in fade-in zoom-in duration-300 p-6",children:[(0,t.jsx)("div",{className:"h-24 w-24 bg-green-100 rounded-full flex items-center justify-center text-green-600 shadow-inner",children:(0,t.jsx)(f.CheckCircle,{className:"h-12 w-12"})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Â¡Pedido Confirmado!"}),(0,t.jsx)("p",{className:"text-gray-500 max-w-[250px] mx-auto text-sm leading-relaxed",children:"Tu pedido se registrÃ³ correctamente. Ahora se abrirÃ¡ WhatsApp para finalizar la confirmaciÃ³n. Â¡Gracias por tu preferencia!"})]}),(0,t.jsx)(x.SheetClose,{asChild:!0,children:(0,t.jsx)(i.Button,{className:"w-full max-w-[200px] bg-black hover:bg-gray-800",onClick:()=>{M(!1),g("cart")},children:"Seguir Comprando"})})]}),"checkout"===a&&(0,t.jsx)(p.CheckoutForm,{items:_,total:O,onBack:()=>g("cart"),onComplete:()=>{I();try{localStorage.removeItem("cart-storage")}catch(e){}g("success"),j(null),v(!0)}}),"cart"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.SheetHeader,{className:"p-4 border-b",children:(0,t.jsxs)(x.SheetTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(o.ShoppingCart,{className:"h-5 w-5"}),"Mi Carrito (",P,")"]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:e?0===_.length?(0,t.jsxs)("div",{className:"text-center mt-10 space-y-2",children:[(0,t.jsx)("p",{className:"text-4xl",children:"ðŸ›’"}),(0,t.jsx)("p",{className:"text-muted-foreground font-medium",children:"Tu carrito estÃ¡ vacÃ­o"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Agrega productos para comenzar."})]}):_.map(e=>(0,t.jsxs)("div",{className:"flex gap-3 bg-card p-2 rounded-lg border border-border shadow-sm",children:[(0,t.jsx)("div",{className:"h-20 w-20 bg-popover rounded-md overflow-hidden flex-shrink-0",children:e.imagen_url?(0,t.jsx)("img",{src:e.imagen_url,alt:e.nombre,className:"h-full w-full object-cover"}):(0,t.jsx)("div",{className:"h-full w-full flex items-center justify-center text-gray-400",children:(0,t.jsx)(u.Image,{className:"h-6 w-6"})})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-sm line-clamp-1",children:e.nombre}),e.variante_nombre&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.variante_nombre}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Unitario: ",(0,h.formatCurrency)(e.precio)]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-end",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 border border-border rounded-md p-1 h-8",children:[(0,t.jsx)(i.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>E(e.id,e.quantity-1,e.producto_variante_id??null),disabled:e.quantity<=1,children:(0,t.jsx)(d.Minus,{className:"h-3 w-3"})}),(0,t.jsx)("span",{className:"text-xs font-medium w-4 text-center",children:e.quantity}),(0,t.jsx)(i.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>E(e.id,e.quantity+1,e.producto_variante_id??null),children:(0,t.jsx)(c.Plus,{className:"h-3 w-3"})})]}),(0,t.jsx)(i.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>k(e.id,e.producto_variante_id??null),children:(0,t.jsx)(l.Trash2,{className:"h-4 w-4"})})]})]})]},`${e.id}-${e.producto_variante_id??"base"}`)):(0,t.jsx)("p",{className:"text-center text-muted-foreground mt-10",children:"Cargando..."})}),_.length>0&&(0,t.jsxs)("div",{className:"p-4 border-t border-border bg-popover space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-lg font-bold",children:[(0,t.jsx)("span",{children:"Total:"}),(0,t.jsx)("span",{children:(0,h.formatCurrency)(O)})]}),(0,t.jsx)(i.Button,{onClick:()=>g("checkout"),className:"w-full h-12 text-base font-bold bg-primary text-primary-foreground hover:bg-primary/90",children:"Ir a Completar Datos"})]})]})]})]})]})}let b=(0,e.i(75254).default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var v=e.i(55436),y=e.i(37727),j=e.i(74080),w=e.i(23750);function N(){let e=(0,n.usePathname)(),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(""),[u,f]=(0,r.useState)(!1),m=(0,n.useRouter)(),p=e=>{e.preventDefault(),c.trim()&&(m.push(`/productos?q=${encodeURIComponent(c)}`),i(!1),f(!1))};return(0,r.useEffect)(()=>{i(!1)},[e]),(0,r.useEffect)(()=>{l(!0)},[]),(0,r.useEffect)(()=>{if(!s)return;let e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[s]),(0,t.jsx)("header",{className:"sticky top-0 z-50 bg-background/80 backdrop-blur-md shadow-sm border-b",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 md:gap-4",children:[(0,t.jsx)("button",{type:"button",className:"md:hidden relative z-50 h-10 w-10 rounded-full border border-border bg-background/70 backdrop-blur shadow-sm hover:shadow-md active:scale-95 transition-all inline-flex items-center justify-center touch-manipulation","aria-label":"Abrir menÃº",onClick:()=>i(!0),children:(0,t.jsx)(b,{className:"h-6 w-6"})}),(0,t.jsx)(a.default,{href:"/",className:"text-xl font-extrabold tracking-tight text-primary",children:"Blama Shop"})]}),s&&(o?(0,j.createPortal)((0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-[70] bg-black/70",onClick:()=>i(!1),"aria-hidden":"true"}),(0,t.jsxs)("div",{className:"fixed inset-y-0 left-0 z-[80] w-[300px] bg-background shadow-xl border-r border-border opacity-100",role:"dialog","aria-modal":"true","aria-label":"MenÃº",children:[(0,t.jsx)("button",{type:"button",className:"absolute right-3 top-3 h-10 w-10 rounded-full border border-border bg-background shadow-sm hover:shadow-md active:scale-95 transition-all inline-flex items-center justify-center","aria-label":"Cerrar menÃº",onClick:()=>i(!1),children:(0,t.jsx)(y.X,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"mt-14 px-5 mb-6",children:(0,t.jsxs)("form",{onSubmit:p,className:"relative",children:[(0,t.jsx)(v.Search,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(w.Input,{type:"search",placeholder:"Buscar productos...",className:"pl-9 w-full bg-muted/50",value:c,onChange:e=>d(e.target.value)})]})}),(0,t.jsxs)("nav",{className:"flex flex-col gap-4 px-5",children:[(0,t.jsx)(a.default,{href:"/",className:"text-lg font-medium hover:text-primary",onClick:()=>i(!1),children:"Inicio"}),(0,t.jsx)(a.default,{href:"/productos",className:"text-lg font-medium hover:text-primary",onClick:()=>i(!1),children:"CatÃ¡logo"}),(0,t.jsx)(a.default,{href:"/nosotros",className:"text-lg font-medium hover:text-primary",onClick:()=>i(!1),children:"QuiÃ©nes Somos"}),(0,t.jsx)(a.default,{href:"/contacto",className:"text-lg font-medium hover:text-primary",onClick:()=>i(!1),children:"Contacto"})]}),(0,t.jsx)("div",{className:"absolute bottom-4 left-4 text-sm font-extrabold tracking-tight text-primary",children:"Blama Shop"})]})]}),document.body):null),(0,t.jsxs)("nav",{className:"hidden md:flex gap-6 text-sm font-medium text-muted-foreground",children:[(0,t.jsx)(a.default,{href:"/",className:"hover:text-primary transition-colors",children:"Inicio"}),(0,t.jsx)(a.default,{href:"/productos",className:"hover:text-primary transition-colors",children:"CatÃ¡logo"}),(0,t.jsx)(a.default,{href:"/nosotros",className:"hover:text-primary transition-colors",children:"QuiÃ©nes Somos"}),(0,t.jsx)(a.default,{href:"/contacto",className:"hover:text-primary transition-colors",children:"Contacto"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${u?"w-40 md:w-64 opacity-100 mr-2":"w-0 opacity-0"}`,children:(0,t.jsx)("form",{onSubmit:p,children:(0,t.jsx)(w.Input,{type:"search",placeholder:"Buscar...",className:"h-9 text-sm",value:c,onChange:e=>d(e.target.value)})})}),(0,t.jsx)("button",{type:"button",onClick:()=>f(!u),className:"p-2 hover:bg-accent rounded-full text-foreground transition-colors","aria-label":"Buscar",children:(0,t.jsx)(v.Search,{className:"h-5 w-5"})})]}),(0,t.jsx)(g,{})]})]})})}function C(){let e=(0,s.useCartAnimationStore)(e=>e.animations),n=(0,s.useCartAnimationStore)(e=>e.cartButtonRef),a=(0,s.useCartAnimationStore)(e=>e.removeAnimation),i=(0,s.useCartAnimationStore)(e=>e.triggerBump),[o,l]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{l(!0)},[]),o)?(0,j.createPortal)((0,t.jsx)(t.Fragment,{children:e.map(e=>(0,t.jsx)(S,{item:e,targetRef:n,onComplete:()=>{a(e.id),i()}},e.id))}),document.body):null}function S({item:e,targetRef:n,onComplete:a}){let[s,i]=(0,r.useState)({position:"fixed",left:e.startRect.left,top:e.startRect.top,width:e.startRect.width,height:e.startRect.height,opacity:1,zIndex:9999,pointerEvents:"none",transition:"all 800ms cubic-bezier(0.2, 0.8, 0.2, 1)",borderRadius:"0.5rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"});return(0,r.useEffect)(()=>{requestAnimationFrame(()=>{if(!n)return void i(e=>({...e,opacity:0,transform:"translateY(-50px) scale(0.5)"}));let e=n.getBoundingClientRect(),t=e.left+e.width/2,r=e.top+e.height/2;i(e=>({...e,left:t-12,top:r-12,width:24,height:24,opacity:.5,borderRadius:"50%"}))});let e=setTimeout(a,800);return()=>clearTimeout(e)},[n,a]),(0,t.jsx)("img",{src:e.src,alt:"",style:s,className:"object-cover border-2 border-white"})}var _=e.i(55488);function k(){return(0,t.jsxs)("footer",{className:"bg-[#09090b] text-gray-300 py-16 mt-auto border-t border-gray-800",children:[(0,t.jsxs)("div",{className:"container mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-12",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white tracking-tight",children:"Blama Shop"}),(0,t.jsx)("p",{className:"text-base leading-relaxed text-gray-300 max-w-xs",children:"La mejor experiencia de compra online con atenciÃ³n personalizada vÃ­a WhatsApp. Calidad, rapidez y confianza en cada pedido."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-bold uppercase text-sm tracking-widest mb-6",children:"NavegaciÃ³n"}),(0,t.jsxs)("ul",{className:"space-y-3 text-base",children:[(0,t.jsx)("li",{children:(0,t.jsx)(a.default,{href:"/",className:"hover:text-white transition-colors duration-200",children:"Inicio"})}),(0,t.jsx)("li",{children:(0,t.jsx)(a.default,{href:"/productos",className:"hover:text-white transition-colors duration-200",children:"CatÃ¡logo"})}),(0,t.jsx)("li",{children:(0,t.jsx)(a.default,{href:"/nosotros",className:"hover:text-white transition-colors duration-200",children:"QuiÃ©nes Somos"})}),(0,t.jsx)("li",{children:(0,t.jsx)(a.default,{href:"/contacto",className:"hover:text-white transition-colors duration-200",children:"ContÃ¡ctanos"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-bold uppercase text-sm tracking-widest mb-6",children:"Legal"}),(0,t.jsxs)("ul",{className:"space-y-3 text-base",children:[(0,t.jsx)("li",{children:(0,t.jsx)(a.default,{href:"/terminos",className:"hover:text-white transition-colors duration-200",children:"TÃ©rminos y Condiciones"})}),(0,t.jsx)("li",{children:(0,t.jsx)(a.default,{href:"/privacidad",className:"hover:text-white transition-colors duration-200",children:"PolÃ­tica de Privacidad"})}),(0,t.jsx)("li",{children:(0,t.jsx)(a.default,{href:"/envios",className:"hover:text-white transition-colors duration-200",children:"PolÃ­tica de EnvÃ­os"})})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center md:items-start",children:[(0,t.jsx)("h4",{className:"text-white font-bold text-base uppercase tracking-wider mb-6 text-center md:text-left",children:"Â¡Ãšnete a nuestra comunidad!"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("a",{href:"https://www.tiktok.com",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform duration-200 hover:opacity-90",children:(0,t.jsxs)("svg",{className:"h-10 w-10",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#000000"}),(0,t.jsx)("path",{d:"M16.7 8.2c-.63 0-1.2-.2-1.7-.5v4.5c0 3.2-2.6 5.8-5.8 5.8-3.2 0-5.8-2.6-5.8-5.8 0-3.2 2.6-5.8 5.8-5.8.34 0 .67.04 1 .1V9.3c-.3-.1-.6-.1-1-.1-1.6 0-3 1.3-3 3 0 1.6 1.3 3 3 3s3-1.3 3-3V2h3.2c0 2.2 1.8 3.9 3.9 4v3.2c-1.8 0-3.3-.6-4.6-1.5z",fill:"#FE2C55",transform:"translate(0.5, 0.5)",opacity:"0"}),(0,t.jsxs)("g",{transform:"translate(4, 4) scale(0.66)",children:[(0,t.jsx)("path",{d:"M19.589 6.686a4.793 4.793 0 0 1-3.77-4.245V2h-3.445v13.672a2.896 2.896 0 0 1-5.201 1.743l-.002-.001.002.001a2.895 2.895 0 0 1 3.183-4.51v-3.5a6.329 6.329 0 0 0-5.394 10.692 6.33 6.33 0 0 0 10.857-4.424V8.687a8.182 8.182 0 0 0 4.773 1.526V6.79a4.831 4.831 0 0 1-1.003-.104z",fill:"#FE2C55",transform:"translate(0.5, 0.5)"}),(0,t.jsx)("path",{d:"M19.589 6.686a4.793 4.793 0 0 1-3.77-4.245V2h-3.445v13.672a2.896 2.896 0 0 1-5.201 1.743l-.002-.001.002.001a2.895 2.895 0 0 1 3.183-4.51v-3.5a6.329 6.329 0 0 0-5.394 10.692 6.33 6.33 0 0 0 10.857-4.424V8.687a8.182 8.182 0 0 0 4.773 1.526V6.79a4.831 4.831 0 0 1-1.003-.104z",fill:"#25F4EE",transform:"translate(-0.5, -0.5)"}),(0,t.jsx)("path",{d:"M19.589 6.686a4.793 4.793 0 0 1-3.77-4.245V2h-3.445v13.672a2.896 2.896 0 0 1-5.201 1.743l-.002-.001.002.001a2.895 2.895 0 0 1 3.183-4.51v-3.5a6.329 6.329 0 0 0-5.394 10.692 6.33 6.33 0 0 0 10.857-4.424V8.687a8.182 8.182 0 0 0 4.773 1.526V6.79a4.831 4.831 0 0 1-1.003-.104z",fill:"#FFFFFF"})]})]})}),(0,t.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform duration-200 hover:opacity-90",children:(0,t.jsxs)("svg",{className:"h-10 w-10",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#1877F2"}),(0,t.jsx)("path",{d:"M13.5 19.5V12H15.5L16 9.5H13.5V8C13.5 7.375 13.844 7 14.5 7H16V4.5H14C11.5 4.5 10.5 5.875 10.5 8V9.5H8.5V12H10.5V19.5",fill:"white"})]})}),(0,t.jsx)("a",{href:"https://www.instagram.com",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform duration-200 hover:opacity-90",children:(0,t.jsxs)("svg",{className:"h-10 w-10",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("rect",{width:"24",height:"24",rx:"6",fill:"url(#paint0_radial_instagram_lg)"}),(0,t.jsx)("rect",{x:"5",y:"5",width:"14",height:"14",rx:"4",stroke:"white",strokeWidth:"2"}),(0,t.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:"white",strokeWidth:"2"}),(0,t.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"white"}),(0,t.jsx)("defs",{children:(0,t.jsxs)("radialGradient",{id:"paint0_radial_instagram_lg",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7 23) rotate(-90) scale(26 25)",children:[(0,t.jsx)("stop",{stopColor:"#FCAF45"}),(0,t.jsx)("stop",{offset:"0.32",stopColor:"#F77737"}),(0,t.jsx)("stop",{offset:"0.63",stopColor:"#E1306C"}),(0,t.jsx)("stop",{offset:"1",stopColor:"#833AB4"})]})})]})})]})]})]}),(0,t.jsxs)("div",{className:"container mx-auto px-6 mt-12 pt-8 border-t border-gray-800 text-center md:flex md:justify-between md:text-left text-sm text-gray-500",children:[(0,t.jsxs)("p",{children:["Â© ",new Date().getFullYear()," Blama Shop. Todos los derechos reservados."]}),(0,t.jsx)("div",{className:"flex justify-center gap-4 mt-2 md:mt-0",children:(0,t.jsx)("span",{className:"hover:text-gray-300 cursor-pointer transition-colors",children:"PerÃº"})})]})]})}var E=e.i(53210);function I({children:e}){let a=(0,n.usePathname)(),s=a?.startsWith("/admin"),i=a?.startsWith("/auth"),o=a?.startsWith("/open-wa"),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(3500),[f,m]=(0,r.useState)(void 0);if(s||i)return(0,t.jsx)(t.Fragment,{children:e});(0,r.useEffect)(()=>{let e=!1;return(async()=>{let{data:t,error:r}=await E.supabase.from("announcement_bar").select("enabled, interval_ms, messages").eq("id",1).maybeSingle();if(e)return;if(r||!t)return c(!0);c(!!t.enabled),u(Number(t.interval_ms)||3500);let n=Array.isArray(t.messages)?t.messages:[];m(n.length>0?n:void 0)})(),()=>{e=!0}},[]);let p=(0,r.useMemo)(()=>!0===l,[l]),h=encodeURIComponent("Hola, quisiera informaciÃ³n sobre sus productos."),x=`https://api.whatsapp.com/send?phone=${encodeURIComponent("+51958279604")}&text=${h}`;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N,{}),(0,t.jsx)(C,{}),p&&(0,t.jsx)(_.AnnouncementBar,{className:"sticky top-16 z-40",intervalMs:d,messages:f}),(0,t.jsx)("div",{className:"flex-1",children:e}),(0,t.jsx)(k,{}),!o&&(0,t.jsx)("a",{href:x,target:"_blank",rel:"noopener noreferrer","aria-label":"Abrir chat de WhatsApp",className:"fixed bottom-16 right-4 md:bottom-6 md:right-6 z-50 inline-flex h-14 w-14 items-center justify-center rounded-full bg-green-600 text-white shadow-lg transition-transform hover:scale-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2",children:(0,t.jsxs)("svg",{viewBox:"0 0 32 32",width:"26",height:"26",fill:"currentColor","aria-hidden":"true",children:[(0,t.jsx)("path",{d:"M19.11 17.22c-.27-.14-1.59-.78-1.84-.87-.25-.09-.43-.14-.61.14-.18.27-.7.86-.86 1.04-.16.18-.32.2-.59.07-.27-.14-1.15-.42-2.2-1.35-.81-.72-1.36-1.61-1.52-1.88-.16-.27-.02-.41.12-.55.12-.12.27-.32.41-.48.14-.16.18-.27.27-.45.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.95.93-.95 2.27 0 1.34.98 2.64 1.11 2.82.14.18 1.93 2.95 4.69 4.13.66.28 1.17.45 1.57.58.66.21 1.26.18 1.73.11.53-.08 1.59-.65 1.82-1.28.23-.63.23-1.17.16-1.28-.07-.11-.25-.18-.52-.32z"}),(0,t.jsx)("path",{d:"M16.03 2.67c-7.16 0-12.98 5.82-12.98 12.98 0 2.29.61 4.53 1.77 6.51L3 29.33l7.35-1.92c1.91 1.05 4.06 1.6 6.26 1.6h.01c7.16 0 12.98-5.82 12.98-12.98 0-3.47-1.35-6.73-3.8-9.18-2.45-2.45-5.71-3.8-9.18-3.8zm0 23.99h-.01c-1.95 0-3.86-.52-5.53-1.51l-.4-.24-4.36 1.14 1.16-4.25-.26-.43c-1.07-1.72-1.64-3.71-1.64-5.76 0-6.12 4.98-11.1 11.1-11.1 2.97 0 5.76 1.15 7.86 3.25 2.1 2.1 3.25 4.89 3.25 7.86 0 6.12-4.98 11.1-11.1 11.1z"})]})})]})}e.s(["LayoutShell",()=>I],97606)}]);